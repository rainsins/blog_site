<!doctype html><html lang="zh-CN" class='han-la'><head> <script src="https://quantil.jsdelivr.net/npm/browser-tool@1.3.1/dist/browser.min.js" integrity="sha256-UPj46Hf28kziVvYS7tWGvZy9COcV7hKW+KqOyqYzkeI=" crossorigin="anonymous"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return 'mode'; } static get MODE_ATTR() { return 'data-mode'; } static get DARK_MODE() { return 'dark'; } static get LIGHT_MODE() { return 'light'; } static get ID() { return 'mode-toggle'; } constructor() { let self = this; this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { self.clearMode(); } self.notify(); }); if (!this.hasMode) { return; } if (this.isDarkMode) { this.setDark(); } else { this.setLight(); } } get sysDarkPrefers() { return window.matchMedia('(prefers-color-scheme: dark)'); } get isPreferDark() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } get modeStatus() { if (this.hasMode) { return this.mode; } else { return this.isPreferDark ? ModeToggle.DARK_MODE : ModeToggle.LIGHT_MODE; } } setDark() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { document.documentElement.removeAttribute(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } notify() { window.postMessage( { direction: ModeToggle.ID, message: this.modeStatus }, '*' ); } flipMode() { if (this.hasMode) { this.clearMode(); } else { if (this.isPreferDark) { this.setLight(); } else { this.setDark(); } } this.notify(); } } const modeToggle = new ModeToggle(); </script> <script> function isO() { var endpoint = 'https://ipapi.co/json'; var xhr = new XMLHttpRequest(); xhr.onreadystatechange = function() { if (this.readyState == 4 && this.status == 200) { var response = JSON.parse(this.responseText); if(response.country == "CN") { sessionStorage.setItem("isOut",false); }else{ sessionStorage.setItem("isOut",true); } } }; xhr.open('GET', endpoint, true); xhr.send(); } isO(); </script> <script> const testPan = () => new Promise((resolve, reject) => { let url = "https://mypan.cpolar.io/d/blog/js/data.json"; let xhr = new XMLHttpRequest(); xhr.open("GET", url, true); xhr.onload = function () { if (xhr.status === 200) { try { let response = JSON.parse(xhr.responseText); console.log(response); let data = response[0].data; if (data == "ok!") { resolve(true); } else { resolve(false); } } catch (error) { resolve(false); } } else { resolve(false); } }; xhr.onerror = function () { resolve(false); }; xhr.send(); }).then(function (supported) { if (supported) { sessionStorage.setItem("isPan", 'true'); } else { sessionStorage.setItem("isPan", 'false'); } }); testPan(); window.addEventListener('beforeunload', (event) => { testPan(); }); </script> <script> function testOS(){ var userAgent = window.navigator.userAgent, platform = window.navigator.platform, macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'], windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'], iosPlatforms = ['iPhone', 'iPad', 'iPod'], os = null; if (macosPlatforms.indexOf(platform) !== -1) { os = 'Mac OS'; } else if (iosPlatforms.indexOf(platform) !== -1) { os = 'iOS'; } else if (windowsPlatforms.indexOf(platform) !== -1) { os = 'Windows'; } else if (/Android/.test(userAgent)) { os = 'Android'; } else if (!os && /Linux/.test(platform)) { os = 'Linux'; } return os; } if(!sessionStorage.getItem("OS")){ sessionStorage.setItem("OS",testOS()); } </script><link href="https://fonts.font.im/css?family=Radley" rel="stylesheet"> <script> window.appendJQCDN = (src) => { var head = document.head || document.getElementsByTagName("head")[0]; if (src.endsWith(".css")) { var style = document.createElement("LINK"); style.setAttribute("type", "text/css"); style.setAttribute("rel", "stylesheet"); style.setAttribute("href", src); head.appendChild(style); } else if (src.endsWith(".js")) { var script = document.createElement("script"); script.type = "text/javascript"; script.setAttribute("src", src); head.appendChild(script); } }; window.isAppendCDN = (err) => { if (sessionStorage.getItem("isPan") == "false") { appendJQCDN(err); } }; </script><link rel="stylesheet" href="https://file.rainsin.cn/d/blog/font/heti/split/FZZzOM/result.css" /><link rel="stylesheet" href="https://file.rainsin.cn/d/blog/font/heti/split/FZFSB/result.css" /><link rel="stylesheet" href="https://file.rainsin.cn/d/blog/font/heti/split/STFANGSO/result.css" /><link rel="stylesheet" href="https://file.rainsin.cn/d/blog/font/heti/split/simfang/result.css" /><link rel="stylesheet" href="https://file.rainsin.cn/d/blog/font/heti/split/FOT-TsukuAOldMinPr6/result.css" /><link rel="stylesheet" href="/assets/message/message.min.css" /> <script src="/assets/message/message.min.js"></script> <script src="https://npm.elemecdn.com/instant.page@5.2.0/instantpage.js" type="module"></script> <script src="https://fastly.jsdelivr.net/npm/sweetalert2@11"></script> <script> let box = document.documentElement; if (!box.getAttribute("data-mode")) { if (modeToggle.modeStatus == "dark") { box.setAttribute("data-mode", "dark"); } else { box.setAttribute("data-mode", "light"); } } </script><link rel="stylesheet" href="/assets/css/card-profile.css" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7" /><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e" /><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" /><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" /><style> .footnotes > ol > li > p, .charch-indent blockquote p { text-indent: 0; }</style><meta name="keywords" content="rainsin, blog, æ ‘è“æ´¾, æµç¨‹, ubuntu, Emby, Gitea, Apache, Docker" /><meta name="author" content="rainsin" /> <script> window.load_event = { ...window.load_event, load_anime: () => { const loads = document.getElementById("loading-gif-box"); loads.style.opacity = "0"; loads.style.zIndex = "-999999"; }, }; </script><link rel="stylesheet" href="/assets/css/comments-min.css" /><link rel="stylesheet" href="/assets/css/root-min.css" /><link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/waline/3.4.2/waline.min.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/waline/3.4.2/waline-meta.css" /><style> .wl-cards .wl-user .wl-user-avatar{ border: 1px solid #a4a4a4ab; } [data-waline] p{ margin-bottom: 0; }</style><script src="https://s4.zstatic.net/ajax/libs/waline/3.4.2/waline.umd.min.js"></script> <script> window.load_event = { ...window.load_event, comments: () => { Waline.init({ el: "#tcomment", serverURL: "https://waline.rainsin.cn/", emoji: [ "//file.rainsin.cn/d/blog/em/å°é»‘å­", "//file.rainsin.cn/d/blog/em/Sticker-100", "//file.rainsin.cn/d/blog/em/å°ç”µè§†", "//file.rainsin.cn/d/blog/em/Tieba", "//file.rainsin.cn/d/blog/em/alus", "//file.rainsin.cn/d/blog/em/å•†ä¸šå¤´ç›”", "//file.rainsin.cn/d/blog/em/å°äºº", "//file.rainsin.cn/d/blog/em/å°åå", "//file.rainsin.cn/d/blog/em/æŠ½è±¡", "//file.rainsin.cn/d/blog/em/æœç´¢å¼•æ“", "//file.rainsin.cn/d/blog/em/æœºåœº", "//file.rainsin.cn/d/blog/em/çŒ¥çèŒ", "//file.rainsin.cn/d/blog/em/çŒ«ç‹—", "//file.rainsin.cn/d/blog/em/ç™½ç™½", "//file.rainsin.cn/d/blog/em/çªç„¶", "//file.rainsin.cn/d/blog/em/èƒ¡æ¡ƒ", "//file.rainsin.cn/d/blog/em/è¢«å­", "//file.rainsin.cn/d/blog/em/é…·å®‰", "//file.rainsin.cn/d/blog/em/tw", "//file.rainsin.cn/d/blog/em/qq", "//file.rainsin.cn/d/blog/em/weibo", ], pageview: true, locale: { placeholder: "å” å” å—‘ï¼ˆç™»å½•å’Œä¸Šé¢ä¿¡æ¯éƒ½ä¸æ˜¯å¿…éœ€çš„ï¼Œè¯„è®ºå®¡æ ¸åå¯è§ï¼Œæ·»åŠ é‚®ç®±å¯åœ¨è¢«å›å¤æ—¶é‚®ä»¶æé†’ï¼ŒæŒ‰ğŸ”è¿›è¡Œé¢„è§ˆï¼‰", admin: "ç«™é•¿", level0: "ç´ äºº", level1: "ä¼åˆ’", level2: "ä¼åˆ’ä¸“å±", level3: "ä¸“å±", level4: "åŒä¸“å±", level5: "ä¸‰ç¤¾å…±æœ‰", nick: "åç§°", sofa: "æ¥ä¸€èµ·å‡»å‰‘ğŸ¤ºå§", }, dark: 'html[data-mode="dark"]', imageUploader: false, search: false, }); window.time_comment = 0; let set_comment_time = setInterval(()=>{ const get_anno_img = Array.from(document.querySelectorAll(".wl-cards .wl-user .wl-user-avatar[src='https://seccdn.libravatar.org/avatar/d41d8cd98f00b204e9800998ecf8427e']")); if(time_comment < 500){ get_anno_img.forEach((el,index)=>{ el.src = "https://file.rainsin.cn/d/blog/img/comment/act.gif"; }); time_comment++; }else{ clearInterval(set_comment_time); return; } },200) }, }; </script><style> .wl-emoji-popup .wl-tab-wrapper button { width: 4em; } .wl-emoji-popup .wl-tab-wrapper button img { max-height: 3.5em; max-width: 3.5em; } .wl-meta>span::before{ margin-top: 2px; } .wl-editor, .wl-input{ background-image: url(https://file.rainsin.cn/d/blog/img/comment/waline-bg.gif),url(https://api.rainsin.cn/blog_data/img/comment/waline-bg.gif); background-position: center right; background-repeat: no-repeat; background-size: auto 100%; } :root{ --waline-theme-color: #d4c4b7; --waline-active-color: #d4c4b7aa; }</style><script> const style = document.createElement("style"); style.type = "text/css"; if (modeToggle.modeStatus == "dark") { style.innerHTML = "#loading-gif-box{background-color: #000;} .loading-boxs-imgs{background-image: url(https://file.rainsin.cn/d/blog/img/darkload.gif?sign=HSMBFJIuwRnWabf8E1WJKYaTOneSVDmMdmfOphPDbdw=:0);}"; } else { style.innerHTML = "#loading-gif-box{background-color: #fff;} .loading-boxs-imgs{background-image: url(https://file.rainsin.cn/d/blog/img/loadlight.gif?sign=FJgpddP5fi4a60y3yWNyJ6chvzOREupwOfPWk03U_ik=:0);}"; } document.getElementsByTagName("head")[0].appendChild(style); </script><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="ã€Œæ•™ç¨‹ã€åˆ›å»ºè‡ªå·±çš„å½±è§†åº“å’Œå„ç§æœåŠ¡" /><meta name="author" content="Rainsin Yu" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="åœ¨æˆ‘çš„ä¸€å—å°æ ‘è“æ´¾ä¸Šåˆ›å»ºè‡ªå·±çš„å½±è§†åº“å’Œå„ç§æœåŠ¡ï¼Œåäº†ä¹‹åå¯ä»¥æŒ‰è¿™ä¸ªæ­¥éª¤å†é‡æ–°å¼„ã€‚" /><meta property="og:description" content="åœ¨æˆ‘çš„ä¸€å—å°æ ‘è“æ´¾ä¸Šåˆ›å»ºè‡ªå·±çš„å½±è§†åº“å’Œå„ç§æœåŠ¡ï¼Œåäº†ä¹‹åå¯ä»¥æŒ‰è¿™ä¸ªæ­¥éª¤å†é‡æ–°å¼„ã€‚" /><link rel="canonical" href="https://blog.rainsin.cn/posts/server-config/" /><meta property="og:url" content="https://blog.rainsin.cn/posts/server-config/" /><meta property="og:site_name" content="Rainsin â€¢ Blogï½œä¸€ä¸ªç²—ç³™çš„å°åšå®¢ï¼Œåˆ†äº«ä¹è¶£ã€‚" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-06-10T11:33:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="ã€Œæ•™ç¨‹ã€åˆ›å»ºè‡ªå·±çš„å½±è§†åº“å’Œå„ç§æœåŠ¡" /><meta name="twitter:site" content="@2000_python" /><meta name="twitter:creator" content="@2000_python" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Rainsin Yu","url":"https://github.com/rainsins/"},"dateModified":"2025-01-09T11:13:06+08:00","datePublished":"2023-06-10T11:33:00+08:00","description":"åœ¨æˆ‘çš„ä¸€å—å°æ ‘è“æ´¾ä¸Šåˆ›å»ºè‡ªå·±çš„å½±è§†åº“å’Œå„ç§æœåŠ¡ï¼Œåäº†ä¹‹åå¯ä»¥æŒ‰è¿™ä¸ªæ­¥éª¤å†é‡æ–°å¼„ã€‚","headline":"ã€Œæ•™ç¨‹ã€åˆ›å»ºè‡ªå·±çš„å½±è§†åº“å’Œå„ç§æœåŠ¡","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.rainsin.cn/posts/server-config/"},"url":"https://blog.rainsin.cn/posts/server-config/"}</script><title>ã€Œæ•™ç¨‹ã€åˆ›å»ºè‡ªå·±çš„å½±è§†åº“å’Œå„ç§æœåŠ¡ | Rainsin â€¢ Blogï½œä¸€ä¸ªç²—ç³™çš„å°åšå®¢ï¼Œåˆ†äº«ä¹è¶£ã€‚</title><link rel="apple-touch-icon" sizes="180x180" href=" https://api.rainsin.cn/favicon/code/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href=" https://api.rainsin.cn/favicon/code/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href=" https://api.rainsin.cn/favicon/code/favicon-16x16.png"><link rel="manifest" href=" https://api.rainsin.cn/favicon/code/site.webmanifest"><link rel="shortcut icon" href=" https://api.rainsin.cn/favicon/code/favicon.ico"><meta name="apple-mobile-web-app-title" content="Rainsin â€¢ Blogï½œä¸€ä¸ªç²—ç³™çš„å°åšå®¢ï¼Œåˆ†äº«ä¹è¶£ã€‚"><meta name="application-name" content="Rainsin â€¢ Blogï½œä¸€ä¸ªç²—ç³™çš„å°åšå®¢ï¼Œåˆ†äº«ä¹è¶£ã€‚"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content=" https://api.rainsin.cn/favicon/code/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.font.im" /><link rel="dns-prefetch" href="https://fonts.font.im" /><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin /><link rel="preconnect" href="https://fonts.googleapis.com" /><link rel="dns-prefetch" href="https://fonts.googleapis.com" /><link rel="preconnect" href="https://gcore.jsdelivr.net" /><link rel="dns-prefetch" href="https://gcore.jsdelivr.net" /><link rel="stylesheet" href="https://fonts.font.im/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap" /><link rel="stylesheet" href="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css" /><link rel="stylesheet" href="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/font-awesome/6.5.2/css/all.min.css" /><link rel="stylesheet" href="/assets/css/style.css" /><link rel="stylesheet" href="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/tocbot/4.28.2/tocbot.min.css" /><link rel="stylesheet" href="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/magnific-popup.js/1.2.0/magnific-popup.min.css" /><link href="/assets/css/font.css" rel="stylesheet" /><link href="/assets/css/em.css" rel="stylesheet" /> <script src="/assets/js/ms.js"></script> <script type="module"> const targetNode = document.documentElement; const config = { attributes:true,characterData: false}; const callback = function (mutationsList, observer) { for (let mutation of mutationsList) { if (mutation.type === "attributes" && mutation.attributeName === "data-mode") { if(!targetNode.getAttribute('data-mode')){ if(modeToggle.modeStatus === 'dark') targetNode.setAttribute('data-mode','dark'); else{ targetNode.setAttribute('data-mode','light'); } } } } }; const observer = new MutationObserver(callback); observer.observe(targetNode, config); </script><body> <script> document.addEventListener("DOMContentLoaded", () => { window.load_event["load_anime"](); }); </script><div id="loading-gif-box" style=" position: fixed; top: 0; left: 0; bottom: 0; right: 0; width: 100vw; height: 100vh; z-index: 9999999999; "><div class="loading-boxs-imgs" style=" background-size: cover; background-position: center; width: 250px; aspect-ratio: 1; position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); "></div></div><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"> <img src="/assets/img/avatar.webp" width="112" height="112" alt="avatar" onerror="this.style.display='none'"> </a><div class="site-title"> <a href="/">RAINSIN</a></div><div class="site-subtitle">å¦‚äººé¥®æ°´ï¼Œå†·æš–è‡ªçŸ¥ã€‚</div></div><ul class="nav flex-column flex-grow-1 w-100 ps-0"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>æ–‡å­—</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>åˆ†ç±»</span> </a><li class="nav-item"> <a href="/links/" class="nav-link"> <i class="fa-fw fas fa-paperclip"></i> <span>å‹é“¾</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-infinity"></i> <span>å…³äº</span> </a><li class="nav-item"> <a href="/comment/" class="nav-link"> <i class="fa-fw fas fa-message"></i> <span>ç•™è¨€</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>å½’æ¡£</span> </a></ul><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/rainsins" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="/feed.xml" aria-label="rss" target="_blank" rel="noopener noreferrer" > <i class="fas fa-rss"></i> </a> <a href="https://blog.rainsin.cn/sitemap.xml" aria-label="sitemap" target="_blank" rel="noopener noreferrer" > <i class="fas fa-map-location-dot"></i> </a> <a href="https://www.travellings.cn/go-by-clouds.html" aria-label="mastodon" target="_blank" rel="noopener noreferrer me" > <i class="fas fa-train-subway"></i> </a></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container px-xxl-5"><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100" > <span id="breadcrumb"> <span> <a href="/"> æ–‡å­— </a> </span> <span>ã€Œæ•™ç¨‹ã€åˆ›å»ºè‡ªå·±çš„å½±è§†åº“å’Œå„ç§æœåŠ¡</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> æ–‡å­—</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="æœç´¢..." > </span> <span id="search-cancel">å–æ¶ˆ</span></div></div><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4"><div class="post px-1 px-md-2"><h1 data-toc-skip>ã€Œæ•™ç¨‹ã€åˆ›å»ºè‡ªå·±çš„å½±è§†åº“å’Œå„ç§æœåŠ¡</h1><style>.post-meta .post-desc{font-size: 1.1rem;font-family: var(--decs-font) !important;line-height: 1.6;color: var(--heading-color);font-weight: 100 !important;}</style><div class="post-meta text-muted"><p class="post-desc fw-light mb-4">åœ¨æˆ‘çš„ä¸€å—å°æ ‘è“æ´¾ä¸Šåˆ›å»ºè‡ªå·±çš„å½±è§†åº“å’Œå„ç§æœåŠ¡ï¼Œåäº†ä¹‹åå¯ä»¥æŒ‰è¿™ä¸ªæ­¥éª¤å†é‡æ–°å¼„ã€‚</p><span> å‘è¡¨äº <em class="" data-ts="1686367980" data-df="YYYY/MM/DD" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2023/06/10 </em> </span> <span> æ›´æ–°äº <em class="" data-ts="1736392386" data-df="YYYY/MM/DD" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2025/01/09 </em> </span><div class="d-flex justify-content-between"> <span> ä½œè€… <em> <a href="https://github.com/rainsins/">Rainsin Yu</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="8354 å­—" > <em>46 åˆ†é’Ÿ</em>é˜…è¯»</span></div></div></div><div class="post-content " id="post-content"><h2 id="æœåŠ¡å™¨ç›¸å…³é…ç½®"><span class="me-2">æœåŠ¡å™¨ç›¸å…³é…ç½®</span><a href="#æœåŠ¡å™¨ç›¸å…³é…ç½®" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>ä¸‡ä¸€æœåŠ¡å™¨æœ‰é—®é¢˜ï¼ŒæŒ‰è¿™ä¸ªæ­¥éª¤æ¥ã€‚å¸¦æ˜Ÿå·<code class="language-plaintext highlighter-rouge">*</code> æ˜¯èˆå¼ƒçš„é¡¹ç›®ã€‚</p><p>è®¾ç½®suå¯†ç ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>passwd
</pre></table></code></div></div><h2 id="0-ç»ˆç«¯è®¾ç½®ä¸ç¾åŒ–"><span class="me-2">0 ç»ˆç«¯è®¾ç½®ä¸ç¾åŒ–</span><a href="#0-ç»ˆç«¯è®¾ç½®ä¸ç¾åŒ–" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="01-å‘½ä»¤è¡Œä½¿ç”¨ä»£ç†"><span class="me-2">0.1 å‘½ä»¤è¡Œä½¿ç”¨ä»£ç†</span><a href="#01-å‘½ä»¤è¡Œä½¿ç”¨ä»£ç†" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>å®‰è£…ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>proxychains4
</pre></table></code></div></div><p>æ‰“å¼€é…ç½®æ–‡ä»¶</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>nano /etc/proxychains4.conf
</pre></table></code></div></div><p>åœ¨å°¾éƒ¨æ·»åŠ ä»£ç†æœåŠ¡å™¨åè®® + ip + port</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># socks4 127.0.0.1 9050 # æŠŠåŸæ¥çš„æ³¨é‡Šæ‰</span>
socks5 127.0.0.1 1080
</pre></table></code></div></div><p>ä½¿ç”¨ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>proxychains4 &lt;å‘½ä»¤&gt;
</pre></table></code></div></div><h3 id="02-å®‰è£…nushellå’Œé…ç½®oh-my-posh"><span class="me-2">0.2 å®‰è£…nushellå’Œé…ç½®Oh-my-posh</span><a href="#02-å®‰è£…nushellå’Œé…ç½®oh-my-posh" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="021-å®‰è£…-rust"><span class="me-2">0.2.1 <strong>å®‰è£… Rust</strong></span><a href="#021-å®‰è£…-rust" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>gcc <span class="c">#rustå¿…éœ€è¦çš„</span>

curl <span class="nt">--proto</span> <span class="s1">'=https'</span> <span class="nt">--tlsv1</span>.2 <span class="nt">-sSf</span> https://sh.rustup.rs | sh
</pre></table></code></div></div><h4 id="022-å®‰è£…ä¾èµ–"><span class="me-2">0.2.2 å®‰è£…ä¾èµ–</span><a href="#022-å®‰è£…ä¾èµ–" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>pkg-config libssl-dev
<span class="nb">sudo </span>apt <span class="nb">install </span>libxcb-composite0-dev libx11-dev
</pre></table></code></div></div><h4 id="023-ä½¿ç”¨-cratesio-è¿›è¡Œæ„å»º"><span class="me-2">0.2.3 ä½¿ç”¨ <a href="https://crates.io/">crates.io</a> è¿›è¡Œæ„å»º</span><a href="#023-ä½¿ç”¨-cratesio-è¿›è¡Œæ„å»º" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>cargo <span class="nb">install </span>nu
</pre></table></code></div></div><p>å®‰è£…å®Œæ¯•åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">nu</code> å‘½ä»¤è¿è¡Œ Nuã€‚</p><h4 id="024-nuå®‰è£…æ‰©å±•"><span class="me-2">0.2.4 nuå®‰è£…æ‰©å±•</span><a href="#024-nuå®‰è£…æ‰©å±•" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>å°†æ‰©å±•çš„ä»“åº“<code class="language-plaintext highlighter-rouge">clone</code> ä¸‹æ¥ï¼Œç„¶åæ„å»ºæ‰§è¡Œæ–‡ä»¶ã€‚</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>git clone &lt;repositories.git&gt;

<span class="nb">cd</span> &lt;repositories&gt;
cargo build <span class="nt">--release</span>
register ./target/release/&lt;repositories&gt;
</pre></table></code></div></div><h4 id="025-oh-my-posh"><span class="me-2">0.2.5 Oh-my-posh</span><a href="#025-oh-my-posh" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>å‚è€ƒ <a href="https://ohmyposh.dev/docs/installation/linux">å®˜æ–¹æ–‡æ¡£</a> ï¼Œå¾ˆè¯¦å°½ã€‚</p><h2 id="1-fstabæ–‡ä»¶çš„é…ç½®"><span class="me-2">1 fstabæ–‡ä»¶çš„é…ç½®</span><a href="#1-fstabæ–‡ä»¶çš„é…ç½®" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="11-æŸ¥çœ‹ç£ç›˜ç©ºé—´"><span class="me-2">1.1 æŸ¥çœ‹ç£ç›˜ç©ºé—´</span><a href="#11-æŸ¥çœ‹ç£ç›˜ç©ºé—´" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>fdisk <span class="nt">-l</span>
</pre></table></code></div></div><h3 id="12-æŸ¥çœ‹ç£ç›˜ä¿¡æ¯"><span class="me-2">1.2 æŸ¥çœ‹ç£ç›˜ä¿¡æ¯</span><a href="#12-æŸ¥çœ‹ç£ç›˜ä¿¡æ¯" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>blkid
</pre></table></code></div></div><h3 id="13-æ‰¾åˆ°fstabæ–‡ä»¶"><span class="me-2">1.3 æ‰¾åˆ°fstabæ–‡ä»¶</span><a href="#13-æ‰¾åˆ°fstabæ–‡ä»¶" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">cd</span> /etc
</pre></table></code></div></div><h3 id="14-æ‰“å¼€fstabæˆ‘ä¹ æƒ¯ç”¨nano"><span class="me-2">1.4 æ‰“å¼€fstabï¼Œæˆ‘ä¹ æƒ¯ç”¨nano</span><a href="#14-æ‰“å¼€fstabæˆ‘ä¹ æƒ¯ç”¨nano" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>nano fstab
</pre></table></code></div></div><h3 id="15-ç¼–è¾‘"><span class="me-2">1.5 ç¼–è¾‘</span><a href="#15-ç¼–è¾‘" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>åœ¨å°¾éƒ¨åŠ å…¥ä»¥ä¸‹</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="nv">LABEL</span><span class="o">=</span>writable  /       ext4    discard,errors<span class="o">=</span>remount-ro       0 1
<span class="nv">UUID</span><span class="o">=</span><span class="s2">"3C2831055A5270C3"</span> /mdata ntfs defaults 0 1
<span class="nv">UUID</span><span class="o">=</span><span class="s2">"5CB7E03A333A1F21"</span> /movie ntfs defaults 0 1
<span class="nv">UUID</span><span class="o">=</span><span class="s2">"26BADED554B2A139"</span> /rdata ntfs defaults 0 1
<span class="nv">UUID</span><span class="o">=</span><span class="s2">"30B8B9F6B8B9BB24"</span> /avdata ntfs defaults 0 1
<span class="nv">UUID</span><span class="o">=</span><span class="s2">"451F30BC5E8250E3"</span> /home/ubuntu/pdata ntfs defaults 0 1
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">ctrl</code> + <code class="language-plaintext highlighter-rouge">x</code>ä¿å­˜ï¼Œé‡å¯ç”Ÿæ•ˆã€‚</p><h2 id="2-sambaé…ç½®"><span class="me-2">2 sambaé…ç½®</span><a href="#2-sambaé…ç½®" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="21-å®‰è£…samba"><span class="me-2">2.1 å®‰è£…samba</span><a href="#21-å®‰è£…samba" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>è¦å®‰è£… Sambaï¼Œæˆ‘ä»¬è¿è¡Œï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install </span>samba
</pre></table></code></div></div><h3 id="22-è®¾ç½®samba"><span class="me-2">2.2 è®¾ç½®Samba</span><a href="#22-è®¾ç½®samba" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>ç°åœ¨å®‰è£…äº† Sambaï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªç›®å½•ä¾›å…¶å…±äº«ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">mkdir</span> &lt;pathname&gt;
</pre></table></code></div></div><p>ä¸Šé¢çš„å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ <code class="language-plaintext highlighter-rouge">sambashare</code>åœ¨æˆ‘ä»¬ç¨åå°†å…±äº«çš„ä¸»ç›®å½•ä¸­ï¼Œæˆ‘ç›´æ¥åˆ†äº« <code class="language-plaintext highlighter-rouge">~</code> ç›®å½•ã€‚</p><p>Samba çš„é…ç½®æ–‡ä»¶ä½äº <code class="language-plaintext highlighter-rouge">/etc/samba/smb.conf</code>. è¦å°†æ–°ç›®å½•æ·»åŠ ä¸ºå…±äº«ï¼Œæˆ‘ä»¬é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥ç¼–è¾‘æ–‡ä»¶ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>nano /etc/samba/smb.conf
</pre></table></code></div></div><p>åœ¨æ–‡ä»¶åº•éƒ¨ï¼Œæ·»åŠ ä»¥ä¸‹è¡Œï¼š</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>[sambashare] 
		comment = &lt;title&gt;
    path = &lt;pathname&gt;
    read only = no
    browsable = yes
</pre></table></code></div></div><p>ç„¶åæŒ‰ <code class="language-plaintext highlighter-rouge">Ctrl-O</code>ä¿å­˜å’Œ <code class="language-plaintext highlighter-rouge">Ctrl-X</code>é€€å‡ºæ–‡æœ¬ç¼–è¾‘å™¨ã€‚</p><p>ç°åœ¨æˆ‘ä»¬å·²ç»é…ç½®äº†æ–°å…±äº«ï¼Œä¿å­˜å®ƒå¹¶é‡æ–°å¯åŠ¨ Samba ä½¿å…¶ç”Ÿæ•ˆï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>service smbd restart
</pre></table></code></div></div><p>æ›´æ–°é˜²ç«å¢™è§„åˆ™ä»¥å…è®¸ Samba æµé‡ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>ufw allow samba
</pre></table></code></div></div><p>ç”±äº Samba ä¸ä½¿ç”¨ç³»ç»Ÿå¸æˆ·å¯†ç ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸ºæˆ‘ä»¬çš„ç”¨æˆ·å¸æˆ·è®¾ç½®ä¸€ä¸ª Samba å¯†ç ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>smbpasswd <span class="nt">-a</span> username //usernameä¸ºç”¨æˆ·å
</pre></table></code></div></div><p>windowsç”¨IPv6è®¿é—®ï¼š</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>\\240e-335-2805-2be0-dea6-32ff-fefe-1496.ipv6-literal.net
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">:</code> ç”¨ <code class="language-plaintext highlighter-rouge">-</code> åˆ†éš”ã€‚</p><h2 id="3-å®‰è£…emby"><span class="me-2">3 å®‰è£…Emby</span><a href="#3-å®‰è£…emby" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="31-ä¸‹è½½emby"><span class="me-2">3.1 ä¸‹è½½Emby</span><a href="#31-ä¸‹è½½emby" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>é“¾æ¥ï¼š<a href="https://github.com/MediaBrowser/Emby.Releases/releases/download/4.7.11.0/emby-server-deb_4.7.11.0_arm64.deb">Arm64æ¶æ„</a>ï¼Œ<a href="https://github.com/MediaBrowser/Emby.Releases/releases/download/4.7.11.0/emby-server-deb_4.7.11.0_amd64.deb">X64æ¶æ„</a></p><h3 id="32-å®‰è£…"><span class="me-2">3.2 å®‰è£…</span><a href="#32-å®‰è£…" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>dpkg <span class="nt">-i</span> emby-server-deb_4.7.11.0_arm64.deb //arm64æ¶æ„
dpkg <span class="nt">-i</span> emby-server-deb_4.7.11.0_amd64.deb //X64æ¶æ„
</pre></table></code></div></div><h2 id="4-å®‰è£…docker"><span class="me-2">4 å®‰è£…Docker</span><a href="#4-å®‰è£…docker" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>å®‰è£…dockerçš„å‘½ä»¤å¾ˆç®€å•</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> docker.io
</pre></table></code></div></div><p>å®‰è£…çš„æ—¶é—´å¯èƒ½æœ‰ä¸€ç‚¹é•¿ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚ã€‚ã€‚ å®‰è£…å®Œæˆåå¯èƒ½éœ€è¦å¯åŠ¨ä¸‹ã€‚ã€‚</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>systemctl start docker
</pre></table></code></div></div><p>è®¾ç½®å¼€æœºå°±å¯åŠ¨docker</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>systemctl <span class="nb">enable </span>docker
</pre></table></code></div></div><p>æŸ¥çœ‹dockeræ˜¯å¦å®‰è£…æˆåŠŸ</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker version
</pre></table></code></div></div><p>æ³¨æ„è¿™é‡Œåªæ˜¾ç¤ºäº†Clientçš„ä¿¡æ¯ï¼Œä¸‹é¢æœ‰ä¸€ä¸ªæŠ¥é”™: persission deniedâ€¦ï¼Œè¿™ä¸ªæ˜¯å› ä¸ºæˆ‘ä»¬å®‰è£…çš„æ—¶å€™æ˜¯ç”¨çš„sudoå®‰è£…ï¼Œåœ¨è¿™é‡Œæ˜¯æ²¡æœ‰æƒé™è¿æ¥dockerçš„æœåŠ¡ç«¯ï¼Œè§£å†³åŠæ³•æ˜¯æŠŠå½“å‰ç”¨æˆ·åŠ å…¥åˆ°dockerç»„é‡Œé¢å»ã€‚</p><p>é¦–å…ˆæ–°å»ºä¸€ä¸ªdockerç»„</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>groupadd docker
</pre></table></code></div></div><p>ä½†æ˜¯å¾ˆå¯èƒ½å·²ç»æœ‰äº†dockerç»„äº†ï¼Œå·²æœ‰çš„è¯å°±ä¸ç”¨ç®¡äº†ï¼Œç»§ç»­ä¸‹ä¸€æ­¥</p><p>ç„¶åæŠŠå½“å‰ç”¨æˆ·åŠ å…¥dockerç»„</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>gpasswd <span class="nt">-a</span> <span class="k">${</span><span class="nv">USER</span><span class="k">}</span> docker
</pre></table></code></div></div><p>é‡å¯docker</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>service docker restart
</pre></table></code></div></div><p>æœ€åä¸€æ­¥è‚¥è‚ é‡è¦ã€‚ã€‚åˆ‡æ¢å½“å‰ä¼šè¯åˆ°æ–° group</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>newgrp - docker
</pre></table></code></div></div><p>æœ€åæµ‹è¯•ä¸‹æ•ˆæœ</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker version
</pre></table></code></div></div><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre>Client:
 Version:           20.10.12
 API version:       1.41
 Go version:        go1.17.3
 Git commit:        20.10.12-0ubuntu4
 Built:             Mon Mar  7 17:11:41 2022
 OS/Arch:           linux/arm64
 Context:           default
 Experimental:      <span class="nb">true

</span>Server:
 Engine:
  Version:          20.10.12
  API version:      1.41 <span class="o">(</span>minimum version 1.12<span class="o">)</span>
  Go version:       go1.17.3
  Git commit:       20.10.12-0ubuntu4
  Built:            Mon Mar  7 15:57:50 2022
  OS/Arch:          linux/arm64
  Experimental:     <span class="nb">false
 </span>containerd:
  Version:          1.5.9-0ubuntu3.1
  GitCommit:
 runc:
  Version:          1.1.0-0ubuntu1.1
  GitCommit:
 docker-init:
  Version:          0.19.0
  GitCommit:
</pre></table></code></div></div><p>æœ€åçš„æœ€åï¼Œå› ä¸ºå›½å†…ç½‘é€Ÿé—®é¢˜ï¼Œä¸‹è½½é•œåƒæ¯”è¾ƒæ…¢æ‰€ä»¥å¯ä»¥ä½¿ç”¨å›½å†…å¤§å‚æä¾›çš„åŠ é€Ÿå™¨ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯é˜¿é‡Œäº‘æä¾›çš„åŠ é€Ÿå™¨ï¼Œä½¿ç”¨é•œåƒåŠ é€Ÿå¿…é¡»å¾—æ”¹ä¸€ä¸‹dockerçš„é…ç½®æ–‡ä»¶ /etc/docker/daemon.json</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>nano /etc/docker/daemon.json
</pre></table></code></div></div><p>åœ¨é‡Œé¢åŠ å…¥é•œåƒåŠ é€Ÿå™¨åœ°å€ã€‚ã€‚</p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">  
		</span><span class="nl">"registry-mirrors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"https://registry.docker-cn.com"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>å®Œæˆã€‚</p><h2 id="5-å®‰è£…bitwarden"><span class="me-2">5 å®‰è£…Bitwarden</span><a href="#5-å®‰è£…bitwarden" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>ä¸€æ¬¾å¯†ç ç®¡ç†å™¨</p><p>å¼€å¯HTTPSï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>docker run <span class="nt">-d</span> <span class="nt">--name</span> bitwarden <span class="se">\</span>
	<span class="nt">-e</span> <span class="nv">ROCKET_TLS</span><span class="o">=</span><span class="s1">'{certs="/ssl/certs.pem",key="/ssl/key.key"}'</span> <span class="se">\</span>
  <span class="nt">-v</span> /home/ubuntu/Nginx/:/ssl/ <span class="se">\</span>
  <span class="nt">-v</span> /Bitwarden/:/data/ <span class="se">\</span>
  <span class="nt">-p</span> 443:80 <span class="se">\</span>
  vaultwarden/server:latest
</pre></table></code></div></div><h2 id="6-å®‰è£…alist"><span class="me-2">6 å®‰è£…Alist*</span><a href="#6-å®‰è£…alist" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>ä¸€æ¬¾å°äº‘ç›˜</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>docker pull xhofe/alist:latest
docker run <span class="nt">-d</span> <span class="nt">--restart</span><span class="o">=</span>always <span class="nt">-v</span> /home/ubuntu:/opt/alist/data <span class="nt">-p</span> 5244:5244 <span class="nt">-e</span> <span class="nv">UMASK</span><span class="o">=</span>022 <span class="nt">--name</span><span class="o">=</span><span class="s2">"alist"</span> xhofe/alist:latest
</pre></table></code></div></div><p>æŸ¥çœ‹ç®¡ç†å‘˜ä¿¡æ¯ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker <span class="nb">exec</span> <span class="nt">-it</span> alist ./alist admin
</pre></table></code></div></div><p>å¯ä»¥ä½¿ç”¨å¦å¤–ä¸€ä¸ªé¡¹ç›®ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>docker run <span class="nt">-d</span> <span class="se">\</span>
    <span class="nt">--name</span><span class="o">=</span>zfile <span class="se">\</span>
    <span class="nt">--restart</span><span class="o">=</span>always <span class="se">\</span>
    <span class="nt">-p</span> 3555:8080 <span class="se">\</span>
    <span class="nt">-v</span> /root/zfile/conf:/root/.zfile-v4 <span class="se">\</span>
    <span class="nt">-v</span> /home/ubuntu/pdata/zfile/file:/root/zfile/data <span class="se">\</span>
		stilleshan/zfile
</pre></table></code></div></div><h2 id="7-å®‰è£…ddns"><span class="me-2">7 å®‰è£…DDNS</span><a href="#7-å®‰è£…ddns" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker run <span class="nt">-d</span> <span class="nt">--name</span> ddns-go <span class="nt">--restart</span><span class="o">=</span>always <span class="nt">--net</span><span class="o">=</span>host <span class="nt">-v</span> /opt/ddns-go:/root jeessy/ddns-go
</pre></table></code></div></div><h2 id="8-å®‰è£…excalidraw"><span class="me-2">8 å®‰è£…Excalidraw</span><a href="#8-å®‰è£…excalidraw" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>ä¸€æ¬¾ç”»æ¿å·¥å…·</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker run --rm -dit --name excalidraw -p 5000:80 jauderho/excalidraw
</pre></table></code></div></div><h2 id="9-apacheé…ç½®"><span class="me-2">9 Apacheé…ç½®</span><a href="#9-apacheé…ç½®" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="91-å®‰è£…apache"><span class="me-2">9.1 å®‰è£…Apache</span><a href="#91-å®‰è£…apache" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>sudo apt-get  install  -y apache2
</pre></table></code></div></div><h3 id="92-å¼€å¯apacheä¸­å¯¹webdavåè®®çš„æ”¯æŒ"><span class="me-2">9.2 å¼€å¯Apacheä¸­å¯¹Webdavåè®®çš„æ”¯æŒ</span><a href="#92-å¼€å¯apacheä¸­å¯¹webdavåè®®çš„æ”¯æŒ" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="921-å¼€å¯apacheä¸­å¯¹webdavåè®®çš„æ”¯æŒ-è®°ä½æœ€å¥½åœ¨ç”¨æˆ·ç›®å½•ä¸‹æ‰§è¡Œå¦åˆ™æŠ¥é”™"><span class="me-2">9.2.1 å¼€å¯Apacheä¸­å¯¹Webdavåè®®çš„æ”¯æŒ (è®°ä½æœ€å¥½åœ¨ç”¨æˆ·ç›®å½•ä¸‹æ‰§è¡Œå¦åˆ™æŠ¥é”™)</span><a href="#921-å¼€å¯apacheä¸­å¯¹webdavåè®®çš„æ”¯æŒ-è®°ä½æœ€å¥½åœ¨ç”¨æˆ·ç›®å½•ä¸‹æ‰§è¡Œå¦åˆ™æŠ¥é”™" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nb">cd</span> ~
<span class="nb">sudo </span>a2enmod dav
<span class="nb">sudo </span>a2enmod dav_fs
</pre></table></code></div></div><h4 id="922-åˆ›å»ºå…±äº«ç›®å½•å¹¶ä¿®æ”¹æƒé™"><span class="me-2">9.2.2 åˆ›å»ºå…±äº«ç›®å½•å¹¶ä¿®æ”¹æƒé™</span><a href="#922-åˆ›å»ºå…±äº«ç›®å½•å¹¶ä¿®æ”¹æƒé™" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo mkdir</span> <span class="nt">-p</span> /var/www/webdav
<span class="nb">sudo chown</span> <span class="nt">-R</span> www-data:www-data  /var/www/webdav
</pre></table></code></div></div><h4 id="923-åˆ›å»ºwebdavçš„è®¿é—®ç”¨æˆ·æ•°æ®åº“é¡ºä¾¿åˆ›å»ºç”¨æˆ·piå’Œguest"><span class="me-2">9.2.3 åˆ›å»ºWebdavçš„è®¿é—®ç”¨æˆ·æ•°æ®åº“ï¼Œé¡ºä¾¿åˆ›å»ºç”¨æˆ·<code class="language-plaintext highlighter-rouge">pi</code>å’Œ<code class="language-plaintext highlighter-rouge">guest</code></span><a href="#923-åˆ›å»ºwebdavçš„è®¿é—®ç”¨æˆ·æ•°æ®åº“é¡ºä¾¿åˆ›å»ºç”¨æˆ·piå’Œguest" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>htpasswd <span class="nt">-c</span> /etc/apache2/webdav.password pi
<span class="c">#sudo htpasswd /etc/apache2/webdav.password guest</span>
</pre></table></code></div></div><h4 id="924-ä¿®æ”¹ç”¨æˆ·æ•°æ®åº“è®¿é—®æƒé™"><span class="me-2">9.2.4 ä¿®æ”¹ç”¨æˆ·æ•°æ®åº“è®¿é—®æƒé™</span><a href="#924-ä¿®æ”¹ç”¨æˆ·æ•°æ®åº“è®¿é—®æƒé™" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo chown </span>root:www-data /etc/apache2/webdav.password
<span class="nb">sudo chmod </span>640 /etc/apache2/webdav.password
</pre></table></code></div></div><h4 id="925-æ‰“å¼€é»˜è®¤é…ç½®æ–‡ä»¶"><span class="me-2">9.2.5 æ‰“å¼€é»˜è®¤é…ç½®æ–‡ä»¶</span><a href="#925-æ‰“å¼€é»˜è®¤é…ç½®æ–‡ä»¶" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>nano /etc/apache2/sites-available/000-default.conf
</pre></table></code></div></div><p>å…¨éƒ¨æ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹ï¼ˆè®°å¾—å…ˆå¤‡ä»½ï¼‰ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>Alias /webdav  /var/www/webdav

&lt;Location /webdav&gt;
 Options Indexes
 DAV On
 AuthType Basic
 AuthName <span class="s2">"webdav"</span>
 AuthUserFile /etc/apache2/webdav.password
 Require valid-user
&lt;/Location&gt;
</pre></table></code></div></div><p>åŸæ–‡ä»¶ï¼š</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre>&lt;VirtualHost *:80&gt;
        # The ServerName directive sets the request scheme, hostname and port that
        # the server uses to identify itself. This is used when creating
        # redirection URLs. In the context of virtual hosts, the ServerName
        # specifies what hostname must appear in the request's Host: header to
        # match this virtual host. For the default virtual host (this file) this
        # value is not decisive as it is used as a last resort host regardless.
        # However, you must set it for any further virtual host explicitly.
        #ServerName www.example.com

        ServerAdmin webmaster@localhost
        DocumentRoot /var/www/html

        # Available loglevels: trace8, ..., trace1, debug, info, notice, warn,
        # error, crit, alert, emerg.
        # It is also possible to configure the loglevel for particular
        # modules, e.g.
        #LogLevel info ssl:warn

        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined

        # For most configuration files from conf-available/, which are
        # enabled or disabled at a global level, it is possible to
        # include a line for only one particular virtual host. For example the
        # following line enables the CGI configuration for this host only
        # after it has been globally disabled with "a2disconf".
        #Include conf-available/serve-cgi-bin.conf
&lt;/VirtualHost&gt;
</pre></table></code></div></div><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo</span> /etc/init.d/apache2 force-reload
<span class="nb">sudo</span> /etc/init.d/apache2 restart
</pre></table></code></div></div><h3 id="93-è®¾ç½®https"><span class="me-2">9.3 è®¾ç½®https</span><a href="#93-è®¾ç½®https" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><strong>å‰ææ¡ä»¶</strong></p><ul><li>å·²ä¸‹è½½ApacheæœåŠ¡å™¨è¯ä¹¦ã€‚<li>å·²å®‰è£…Open SSLã€‚</ul><p><strong>ç¯å¢ƒå‡†å¤‡</strong></p><ul><li>æ“ä½œç³»ç»Ÿï¼šUbuntu<li>WebæœåŠ¡å™¨ï¼šApache 2</ul><h4 id="1-æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åœ¨apache2ç›®å½•ä¸‹åˆ›å»ºsslç›®å½•"><span class="me-2">1 æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œåœ¨<code class="language-plaintext highlighter-rouge">apache2</code>ç›®å½•ä¸‹åˆ›å»º<code class="language-plaintext highlighter-rouge">ssl</code>ç›®å½•ã€‚</span><a href="#1-æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åœ¨apache2ç›®å½•ä¸‹åˆ›å»ºsslç›®å½•" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">mkdir</span> /etc/apache2/cert
</pre></table></code></div></div><h4 id="2-æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å°†ä¸‹è½½çš„é˜¿é‡Œäº‘è¯ä¹¦æ–‡ä»¶å¤åˆ¶åˆ°sslç›®å½•ä¸­"><span class="me-2">2 æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†ä¸‹è½½çš„é˜¿é‡Œäº‘è¯ä¹¦æ–‡ä»¶å¤åˆ¶åˆ°<code class="language-plaintext highlighter-rouge">ssl</code>ç›®å½•ä¸­ã€‚</span><a href="#2-æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å°†ä¸‹è½½çš„é˜¿é‡Œäº‘è¯ä¹¦æ–‡ä»¶å¤åˆ¶åˆ°sslç›®å½•ä¸­" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nb">cp</span> <span class="nt">-r</span> YourDomainName_public.pem /etc/apache2/cert
<span class="nb">cp</span> <span class="nt">-r</span> YourDomainName_chain.pem /etc/apache2/cert
<span class="nb">cp</span> <span class="nt">-r</span> YourDomainName.key /etc/apache2/cert
</pre></table></code></div></div><h4 id="3-æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯ç”¨sslæ¨¡å—"><span class="me-2">3 æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¯ç”¨SSLæ¨¡å—</span><a href="#3-æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯ç”¨sslæ¨¡å—" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>a2enmod ssl
</pre></table></code></div></div><h4 id="4-æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¿®æ”¹sslé…ç½®æ–‡ä»¶default-sslconf"><span class="me-2">4 æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä¿®æ”¹SSLé…ç½®æ–‡ä»¶default-ssl.conf</span><a href="#4-æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¿®æ”¹sslé…ç½®æ–‡ä»¶default-sslconf" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>nano /etc/apache2/sites-available/default-ssl.conf
</pre></table></code></div></div><p>åœ¨default-ssl.confæ–‡ä»¶ä¸­æ‰¾åˆ°ä»¥ä¸‹å‚æ•°ï¼Œä¿®æ”¹åä¿å­˜å¹¶é€€å‡ºã€‚</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="s">&lt;IfModules mod_ssl.c&gt;</span>
<span class="s">&lt;VirtualHost *:443&gt;</span>  
<span class="nn">...</span>
<span class="s">ServerName</span>   <span class="c1">#ä¿®æ”¹ä¸ºè¯ä¹¦ç»‘å®šçš„åŸŸåã€‚</span>
<span class="s">SSLEngine on</span>
<span class="s">SSLCertificateFile /home/ubuntu/.ssl/apache2/rainsin.cn_cert.pem</span>
<span class="s">SSLCertificateKeyFile /home/ubuntu/.ssl/apache2/rainsin.cn_key.key</span>
<span class="s">SSLCertificateChainFile /home/ubuntu/.ssl/apache2/rainsin.cn_chain.pem</span>
<span class="nn">...</span>
<span class="s">&lt;/VirtualHost&gt;</span>
<span class="s">&lt;/IfModules</span>
</pre></table></code></div></div><h4 id="5-æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æŠŠdefault-sslconfæ˜ å°„è‡³etcapache2sites-enabledæ–‡ä»¶å¤¹ä¸­å»ºç«‹è½¯é“¾æ¥å®ç°ä¸¤è€…ä¹‹é—´çš„è‡ªåŠ¨å…³è”"><span class="me-2">5 æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒæŠŠdefault-ssl.confæ˜ å°„è‡³/etc/apache2/sites-enabledæ–‡ä»¶å¤¹ä¸­å»ºç«‹è½¯é“¾æ¥ï¼Œå®ç°ä¸¤è€…ä¹‹é—´çš„è‡ªåŠ¨å…³è”ã€‚</span><a href="#5-æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æŠŠdefault-sslconfæ˜ å°„è‡³etcapache2sites-enabledæ–‡ä»¶å¤¹ä¸­å»ºç«‹è½¯é“¾æ¥å®ç°ä¸¤è€…ä¹‹é—´çš„è‡ªåŠ¨å…³è”" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo ln</span> <span class="nt">-s</span> /etc/apache2/sites-available/default-ssl.conf /etc/apache2/sites-enabled/001-ssl.conf
</pre></table></code></div></div><h4 id="6-æ‰§è¡Œä»¥ä¸‹å‘½ä»¤é‡æ–°åŠ è½½apache-2é…ç½®æ–‡ä»¶"><span class="me-2">6 æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œé‡æ–°åŠ è½½Apache 2é…ç½®æ–‡ä»¶ã€‚</span><a href="#6-æ‰§è¡Œä»¥ä¸‹å‘½ä»¤é‡æ–°åŠ è½½apache-2é…ç½®æ–‡ä»¶" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo</span> /etc/init.d/apache2 force-reloadsudo /etc/init.d/apache2 restart
</pre></table></code></div></div><p>å®Œæˆã€‚</p><h4 id="94-è®¾ç½®åå‘ä»£ç†"><span class="me-2">9.4 è®¾ç½®åå‘ä»£ç†</span><a href="#94-è®¾ç½®åå‘ä»£ç†" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>a2enmod rewriteã€€ã€€ã€€ã€€//å¯ç”¨.htaccessè§„åˆ™ï¼Œæ‰“å¼€é‡å†™

<span class="nb">sudo </span>a2enmod proxy

<span class="nb">sudo </span>a2enmod proxy_httpã€€ã€€//å¯ç”¨åå‘ä»£ç†
</pre></table></code></div></div><p>å®‰è£…å¥½åï¼ŒApache2 HTTP æœåŠ¡å™¨å…³äºç«™ç‚¹çš„é…ç½®æ–‡ä»¶ä½äº <code class="language-plaintext highlighter-rouge">/etc/apache2/sites-enabled/</code> ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ç†Ÿæ‚‰çš„ç¼–è¾‘å™¨ï¼ˆæ¯”å¦‚ nano æˆ–è€… vimï¼‰ç¼–è¾‘é»˜è®¤ç”Ÿæˆçš„æ–‡ä»¶ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>nano /etc/apache2/sites-enabled/000-default.conf
</pre></table></code></div></div><p>åœ¨è¯¥é…ç½®æ–‡ä»¶çš„æœ€åº•éƒ¨ï¼Œæ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="s">&lt;VirtualHost *:2000&gt;</span>
  <span class="s">ServerName &lt;äºŒçº§åŸŸå&gt;.rainsin.cn</span>
  <span class="s">ServerAlias &lt;äºŒçº§åŸŸå&gt;.rainsin.cn</span>
  <span class="s">SSLProxyEngine on</span>
  <span class="s">SSLEngine on</span>
  <span class="s">SSLCertificateFile /etc/apache2/cert/rainsin.cn/cert.pem</span>
  <span class="s">SSLCertificateKeyFile /etc/apache2/cert/rainsin.cn/key.key</span>
  <span class="s">SSLCertificateChainFile /etc/apache2/cert/rainsin.cn/chain.pem</span>
  
  <span class="s">ProxyPass / http://localhost:&lt;port&gt;</span>
  <span class="s">ProxyPassReverse / http://localhost:&lt;port&gt;</span>
<span class="s">&lt;/VirtualHost&gt;</span>
</pre></table></code></div></div><p>æˆ‘ç»Ÿä¸€å°†æ‰€æœ‰çš„å†…éƒ¨ç«¯å£æ˜ å°„åœ¨2000ç«¯å£ä¸Šï¼Œç”¨äºŒçº§åŸŸååŒºåˆ†åº”ç”¨ï¼Œåœ¨è¿™ä¹‹å‰éœ€è¦å°†2000ç«¯å£åŠ å…¥åˆ°<code class="language-plaintext highlighter-rouge">ports.conf</code>ä¸­ï¼Œä¸ç„¶æ— æ³•è®¿é—®ã€‚</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>Listen 2000 //ä½ åœ¨apacheä¸­ç”¨çš„çš„ç«¯å£éƒ½è¦åœ¨è¿™é‡Œé…ç½®
</pre></table></code></div></div><p><a href="https://www.notion.so/f4d21fd008da4c98a4e67ad89f9945ee?pvs=21">æœåŠ¡å™¨ç›¸å…³é…ç½®</a>ã€‚</p><h2 id="10-å®‰è£…rssæœåŠ¡å™¨"><span class="me-2">10 å®‰è£…rssæœåŠ¡å™¨</span><a href="#10-å®‰è£…rssæœåŠ¡å™¨" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>docker run <span class="nt">-d</span> <span class="se">\</span>
  <span class="nt">--name</span><span class="o">=</span>freshrss <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">PUID</span><span class="o">=</span>1000 <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">PGID</span><span class="o">=</span>1000 <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">TZ</span><span class="o">=</span>Asia/Shanghai <span class="se">\</span>
  <span class="nt">-p</span> 3444:80 <span class="se">\</span>
  <span class="nt">-v</span> /home/ubuntu/rss:/config <span class="se">\</span>
  <span class="nt">--restart</span> unless-stopped <span class="se">\</span>
  lscr.io/linuxserver/freshrss:latest
</pre></table></code></div></div><h2 id="11-å®‰è£…komga"><span class="me-2">11 å®‰è£…komga</span><a href="#11-å®‰è£…komga" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>ä¸€æ¬¾æ¼«ç”»ç®¡ç†é˜…è¯»è½¯ä»¶</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>docker run <span class="nt">-d</span> <span class="se">\</span>
  <span class="nt">--name</span><span class="o">=</span>komga <span class="se">\</span>
  <span class="nt">--user</span> 1000:1000 <span class="se">\</span>
  <span class="nt">-p</span> 2666:8080 <span class="se">\</span>
  <span class="nt">-v</span> /home/ubuntu/komga/config:/config <span class="se">\</span>
  <span class="nt">-v</span> /home/ubuntu/pdata/komga:/data <span class="se">\</span>
  <span class="nt">--restart</span> unless-stopped <span class="se">\</span>
  gotson/komga
</pre></table></code></div></div><h2 id="12-å®‰è£…webdav"><span class="me-2">12 å®‰è£…webdav</span><a href="#12-å®‰è£…webdav" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>ä¸»è¦ç”¨æ¥zoteroçš„å¤‡ä»½</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>docker run <span class="nt">--name</span> webdav <span class="se">\</span>
  <span class="nt">--restart</span><span class="o">=</span>unless-stopped <span class="se">\</span>
  <span class="nt">-p</span> 3478:80 <span class="se">\</span>
  <span class="nt">-v</span> &lt;webdav-path&gt;:/data <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">USERNAME</span><span class="o">=</span>&lt;webdav&gt; <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">PASSWORD</span><span class="o">=</span>&lt;webdav&gt; <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">UDI</span><span class="o">=</span>1000 <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">GID</span><span class="o">=</span>1000 <span class="se">\</span>
  <span class="nt">-d</span>  derkades/webdav
</pre></table></code></div></div><h2 id="13-å›¾åºŠå®‰è£…"><span class="me-2">13 å›¾åºŠå®‰è£…</span><a href="#13-å›¾åºŠå®‰è£…" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="131-è“ç©ºå›¾åºŠ"><span class="me-2">13.1 è“ç©ºå›¾åºŠï¼š</span><a href="#131-è“ç©ºå›¾åºŠ" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre>docker network create lsky-pro-net

docker run <span class="nt">-d</span> <span class="nt">-p</span> 3306:3306 <span class="nt">--name</span> mysql8.0.29 <span class="nt">--network</span> lsky-pro-net <span class="nt">--network-alias</span> mysql <span class="nt">--restart</span><span class="o">=</span>always <span class="nt">-e</span> <span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>123456 mysql:8.0.29

docker run <span class="nt">-d</span> <span class="nt">--name</span><span class="o">=</span>lsky-pro <span class="nt">--restart</span><span class="o">=</span>always <span class="nt">--network</span> lsky-pro-net <span class="nt">-v</span> /home/ubuntu/pdata/lsky-pro-data:/var/www/html <span class="nt">-p</span> 7791:80 dko0/lsky-pro:2.0.4

docker <span class="nb">exec</span> <span class="nt">-it</span> mysql8.0.29 bash

mysql <span class="nt">-uroot</span> <span class="nt">-p123456</span>

create user <span class="s1">'lskypro'</span>@<span class="s1">'%'</span> identified by <span class="s1">'123456'</span><span class="p">;</span>
grant all privileges on <span class="k">*</span>.<span class="k">*</span> to <span class="s1">'lskypro'</span>@<span class="s1">'%'</span> with grant option<span class="p">;</span>
flush privileges<span class="p">;</span>
create database lskypro<span class="p">;</span>
</pre></table></code></div></div><h3 id="132-chevereto-freeå®‰è£…"><span class="me-2">13.2 Chevereto-freeå®‰è£…ï¼š</span><a href="#132-chevereto-freeå®‰è£…" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker run <span class="nt">-d</span> Â  <span class="nt">--name</span><span class="o">=</span>chevereto Â  <span class="nt">-e</span> <span class="nv">PUID</span><span class="o">=</span>1000 Â  <span class="nt">-e</span> <span class="nv">PGID</span><span class="o">=</span>1000 Â  <span class="nt">-e</span> <span class="nv">TZ</span><span class="o">=</span>Asia/Shanghai Â  <span class="nt">-p</span> 5080:80 Â  <span class="nt">-p</span> 9999:443 Â  <span class="nt">-v</span> /chevereto/config:/config Â  <span class="nt">-v</span> /mdata:/data Â  <span class="nt">--restart</span> unless-stopped Â  linuxserver/chevereto:latest
</pre></table></code></div></div><h3 id="133-lightpictureçš„å®‰è£…"><span class="me-2">13.3 LightPictureçš„å®‰è£…ï¼š</span><a href="#133-lightpictureçš„å®‰è£…" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>è¿™ä¸ªæ²¡æœ‰dockeré•œåƒï¼Œå®‰è£…å¯èƒ½æ¯”è¾ƒéº»çƒ¦ï¼Œè¿‡ç¨‹ä¸­å¯èƒ½ä¼šæœ‰é—®é¢˜ã€‚</p><p>å…ˆå†³æ¡ä»¶ï¼š</p><p>å¤§ç¯å¢ƒï¼š</p><ul><li>apache2<li>php (7.2~7.4)<li>MySQL(â‰¥5.5)</ul><p>PHPç¯å¢ƒï¼š</p><ul><li>PDOæ‰©å±•<li>GDåº“<li>fileinfoæ‰©å±•<li>curlæ‰©å±•<li>ZipArchive æ”¯æŒ</ul><p>Apacheç¯å¢ƒï¼š</p><ul><li>rewriteæ¨¡å—<li>SSLæ¨¡å—</ul><h4 id="1331-å®‰è£…php74ç‰ˆæœ¬"><span class="me-2">13.3.1 å®‰è£…phpï¼ˆ7.4ç‰ˆæœ¬ï¼‰</span><a href="#1331-å®‰è£…php74ç‰ˆæœ¬" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><strong>1. ä½¿ç”¨apt-fast æå‡ä¸‹è½½é€Ÿåº¦çš„è½¯ä»¶ï¼Œå®‰è£…è½¯ä»¶æ—¶ï¼Œé€šè¿‡å¢åŠ çº¿ç¨‹ä½¿ä¸‹è½½è½¯ä»¶é€Ÿåº¦åŠ å¿«ã€‚</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>add-apt-repository ppa:apt-fast/stable
<span class="nb">sudo </span>apt-get <span class="nb">install </span>apt-fast
</pre></table></code></div></div><p><strong>2. å¸è½½ç³»ç»Ÿä¸­å·²æœ‰çš„phpç‰ˆæœ¬å’Œæ‰©å±•ï¼Œå¦‚æœä»¥å‰å®‰è£…è¿‡æ¯”7.4æ›´é«˜æˆ–æ¯”7.2æ›´ä½çš„ç‰ˆæœ¬åˆ™éœ€è¦è¿è¡Œã€‚</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt-get autoremove php<span class="k">*</span>
</pre></table></code></div></div><p><strong>3. æ·»åŠ php7.4çš„æº</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>add-apt-repository ppa:ondrej/php <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get update
</pre></table></code></div></div><p><strong>4. ä½¿ç”¨apt-fast å®‰è£…php7.4</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt-fast <span class="nt">-y</span> <span class="nb">install </span>php7.4
</pre></table></code></div></div><p><strong>5. å¯èƒ½éœ€è¦å®‰è£…çš„æ‰©å±•</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt-fast <span class="nb">install </span>php7.4-fpm php7.4-mysql php7.4-curl php7.4-json php7.4-mbstring php7.4-xml php7.4-intl php7.4-gd php7.4-bcmath php7.4-zip<span class="k">*</span>
</pre></table></code></div></div><h4 id="1332-mysqlçš„é…ç½®"><span class="me-2">13.3.2 MySQLçš„é…ç½®</span><a href="#1332-mysqlçš„é…ç½®" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><strong>MySQLçš„å®‰è£…åœ¨ç¬¬17èŠ‚ã€‚</strong></p><p>éœ€è¦æ‰§è¡Œçš„<code class="language-plaintext highlighter-rouge">sql</code>æ–‡ä»¶åœ¨<code class="language-plaintext highlighter-rouge">public/install</code>è·¯å¾„ä¸‹çš„<code class="language-plaintext highlighter-rouge">lp.sql</code>æ–‡ä»¶ã€‚</p><p>é¦–å…ˆï¼Œéœ€è¦åˆ›å»ºdatabaseï¼Œå¯ä»¥ä½¿ç”¨MySQLç®¡ç†è½¯ä»¶åˆ›å»ºä¹Ÿå¯ä»¥å‘½ä»¤è¡Œè¿›å…¥MySQLåˆ›å»ºï¼Œç„¶åæ‰§è¡Œåœ¨<code class="language-plaintext highlighter-rouge">public/install</code>è·¯å¾„ä¸‹çš„<code class="language-plaintext highlighter-rouge">lp.sql</code>æ–‡ä»¶ã€‚</p><p>æˆ‘ä½¿ç”¨çš„æ˜¯Navicat for windowsï¼Œmacç«¯å¥½åƒä¹Ÿæœ‰ï¼Œmacç«¯ä¹Ÿå¯ä»¥ç”¨Sequel Aceã€MySQL Workbenchã€TablePlusç­‰ç­‰ã€‚</p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>mysql <span class="nt">-u</span> root <span class="nt">-p</span>
</pre></table></code></div></div><p>è¾“å…¥å¯†ç ï¼Œè¿›å…¥mysqlï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>CREATE DATABASE &lt;name&gt;<span class="p">;</span>

use &lt;name&gt;<span class="p">;</span>

<span class="nb">source</span> /path/to/lp.sql<span class="p">;</span>
</pre></table></code></div></div><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="s">systemctl restart php-fpm.service</span>
</pre></table></code></div></div><h4 id="1333-apache2é…ç½®"><span class="me-2">13.3.3 Apache2é…ç½®</span><a href="#1333-apache2é…ç½®" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>å°†ä»¥ä¸‹é…ç½®æ·»åŠ è¿›apacheçš„ä»»æ„å¯ç”Ÿæ•ˆçš„confæ–‡ä»¶ä¸­ï¼š</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="s">&lt;VirtualHost *:2000&gt;</span>
<span class="err">				</span><span class="c1">#ä½ çš„åŸŸåï¼Œç«¯å£2000å¯ä»¥æ”¹</span>
        <span class="s">ServerName  &lt;url-name&gt;</span>
        <span class="s">ServerAlias &lt;title&gt;</span>

<span class="err">				</span><span class="c1">#HTTPSé…ç½®</span>
        <span class="s">SSLEngine on</span>

        <span class="s">SSLCertificateFile /home/ubuntu/.ssl/apache2/rainsin.cn_cert.pem</span>
        <span class="s">SSLCertificateKeyFile /home/ubuntu/.ssl/apache2/rainsin.cn_key.key</span>
        <span class="s">SSLCertificateChainFile /home/ubuntu/.ssl/apache2/rainsin.cn_chain.pem</span>
				
<span class="err">				</span><span class="c1">#è®¾ç½®ä¸ºpublicçš„ç»å¯¹è·¯å¾„</span>
        <span class="s">DocumentRoot /path/to/public</span>
<span class="err">				</span><span class="c1">#é¦–é¡µæ–‡ä»¶</span>
        <span class="s">DirectoryIndex index.html index.php</span>
<span class="err">				</span><span class="c1">#publicæ–‡ä»¶çš„æƒé™å¿…é¡»ä¸ºå¯è¯»å¯å†™ï¼Œè¿è¡Œ chmod 755 /é¡¹ç›®æ ¹ç›®å½•/public</span>
        <span class="s">&lt;Directory "/LightPicture/public"&gt;</span>
                <span class="s">Options FollowSymLinks ExecCGI</span>
                <span class="s">AllowOverride All</span>
                <span class="s">Order allow,deny</span>
                <span class="s">Allow from all</span>
                <span class="s">Require all granted</span>
        <span class="s">&lt;/Directory&gt;</span>

        <span class="s">ErrorLog ${APACHE_LOG_DIR}/error.log</span>
        <span class="s">CustomLog ${APACHE_LOG_DIR}/access.log combined</span>
<span class="s">&lt;/VirtualHost&gt;</span>
</pre></table></code></div></div><p>å°†ä»¥ä¸‹æ–‡å­—æ·»åŠ è¿› <code class="language-plaintext highlighter-rouge">public/.htaccess</code> ä¸­ï¼š</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="s">&lt;IfModule mod_rewrite.c&gt;</span>
  <span class="s">Options +FollowSymlinks -Multiviews</span>
  <span class="s">RewriteEngine On</span>

  <span class="s">RewriteCond %{REQUEST_FILENAME} !-d</span>
  <span class="s">RewriteCond %{REQUEST_FILENAME} !-f</span>
  <span class="s">RewriteRule ^(.*)$ index.php/$1 [QSA,PT,L]</span>
<span class="s">&lt;/IfModule&gt;</span>
</pre></table></code></div></div><p>å¼€å¯rewriteæ¨¡å—ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo</span> <span class="k">**</span>a2enmod rewrite<span class="k">**</span>
</pre></table></code></div></div><p>é‡å¯apache2ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo</span> /etc/init.d/apache2 force-reload
<span class="nb">sudo</span> /etc/init.d/apache2 restart
</pre></table></code></div></div><h4 id="1334-å®‰è£…å®Œæˆ"><span class="me-2">13.3.4 å®‰è£…å®Œæˆ</span><a href="#1334-å®‰è£…å®Œæˆ" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>è®¾ç½®<code class="language-plaintext highlighter-rouge">config/database.php</code> æ–‡ä»¶ï¼š</p><div class="language-php highlighter-rouge"><div class="code-header"> <span data-label-text="PHP"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
</pre><td class="rouge-code"><pre><span class="cp">&lt;?php</span>

<span class="k">return</span> <span class="p">[</span>
    <span class="c1">// é»˜è®¤ä½¿ç”¨çš„æ•°æ®åº“è¿æ¥é…ç½®</span>
    <span class="s1">'default'</span>         <span class="o">=&gt;</span> <span class="nf">env</span><span class="p">(</span><span class="s1">'database.driver'</span><span class="p">,</span> <span class="s1">'mysql'</span><span class="p">),</span>

    <span class="c1">// è‡ªå®šä¹‰æ—¶é—´æŸ¥è¯¢è§„åˆ™</span>
    <span class="s1">'time_query_rule'</span> <span class="o">=&gt;</span> <span class="p">[],</span>

    <span class="c1">// è‡ªåŠ¨å†™å…¥æ—¶é—´æˆ³å­—æ®µ</span>
    <span class="c1">// trueä¸ºè‡ªåŠ¨è¯†åˆ«ç±»å‹ falseå…³é—­</span>
    <span class="c1">// å­—ç¬¦ä¸²åˆ™æ˜ç¡®æŒ‡å®šæ—¶é—´å­—æ®µç±»å‹ æ”¯æŒ int timestamp datetime date</span>
    <span class="s1">'auto_timestamp'</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>

    <span class="c1">// æ—¶é—´å­—æ®µå–å‡ºåçš„é»˜è®¤æ—¶é—´æ ¼å¼</span>
    <span class="s1">'datetime_format'</span> <span class="o">=&gt;</span> <span class="s1">'Y-m-d H:i:s'</span><span class="p">,</span>

    <span class="c1">// æ—¶é—´å­—æ®µé…ç½® é…ç½®æ ¼å¼ï¼šcreate_time,update_time</span>
    <span class="s1">'datetime_field'</span>  <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>

    <span class="c1">// æ•°æ®åº“è¿æ¥é…ç½®ä¿¡æ¯</span>
    <span class="s1">'connections'</span>     <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'mysql'</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="c1">// æ•°æ®åº“ç±»å‹</span>
            <span class="s1">'type'</span>            <span class="o">=&gt;</span> <span class="nf">env</span><span class="p">(</span><span class="s1">'database.type'</span><span class="p">,</span> <span class="s1">'mysql'</span><span class="p">),</span>
            <span class="c1">// æœåŠ¡å™¨åœ°å€</span>
            <span class="s1">'hostname'</span>        <span class="o">=&gt;</span> <span class="nf">env</span><span class="p">(</span><span class="s1">'database.hostname'</span><span class="p">,</span> <span class="s1">'127.0.0.1'</span><span class="p">),</span>
            <span class="c1">// æ•°æ®åº“å</span>
            <span class="s1">'database'</span>        <span class="o">=&gt;</span> <span class="nf">env</span><span class="p">(</span><span class="s1">'database.database'</span><span class="p">,</span> <span class="s1">'name'</span><span class="p">),</span>
            <span class="c1">// ç”¨æˆ·å</span>
            <span class="s1">'username'</span>        <span class="o">=&gt;</span> <span class="nf">env</span><span class="p">(</span><span class="s1">'database.username'</span><span class="p">,</span> <span class="s1">'root'</span><span class="p">),</span>
            <span class="c1">// å¯†ç </span>
            <span class="s1">'password'</span>        <span class="o">=&gt;</span> <span class="nf">env</span><span class="p">(</span><span class="s1">'database.password'</span><span class="p">,</span> <span class="s1">'password'</span><span class="p">),</span>
            <span class="c1">// ç«¯å£</span>
            <span class="s1">'hostport'</span>        <span class="o">=&gt;</span> <span class="nf">env</span><span class="p">(</span><span class="s1">'database.hostport'</span><span class="p">,</span> <span class="s1">'3306'</span><span class="p">),</span>
            <span class="c1">// æ•°æ®åº“è¿æ¥å‚æ•°</span>
            <span class="s1">'params'</span>          <span class="o">=&gt;</span> <span class="p">[],</span>
            <span class="c1">// æ•°æ®åº“ç¼–ç é»˜è®¤é‡‡ç”¨utf8</span>
            <span class="s1">'charset'</span>         <span class="o">=&gt;</span> <span class="nf">env</span><span class="p">(</span><span class="s1">'database.charset'</span><span class="p">,</span> <span class="s1">'utf8'</span><span class="p">),</span>
            <span class="c1">// æ•°æ®åº“è¡¨å‰ç¼€</span>
            <span class="s1">'prefix'</span>          <span class="o">=&gt;</span> <span class="nf">env</span><span class="p">(</span><span class="s1">'database.prefix'</span><span class="p">,</span> <span class="s1">'osuu_'</span><span class="p">),</span>

            <span class="c1">// æ•°æ®åº“éƒ¨ç½²æ–¹å¼:0 é›†ä¸­å¼(å•ä¸€æœåŠ¡å™¨),1 åˆ†å¸ƒå¼(ä¸»ä»æœåŠ¡å™¨)</span>
            <span class="s1">'deploy'</span>          <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
            <span class="c1">// æ•°æ®åº“è¯»å†™æ˜¯å¦åˆ†ç¦» ä¸»ä»å¼æœ‰æ•ˆ</span>
            <span class="s1">'rw_separate'</span>     <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">,</span>
            <span class="c1">// è¯»å†™åˆ†ç¦»å ä¸»æœåŠ¡å™¨æ•°é‡</span>
            <span class="s1">'master_num'</span>      <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
            <span class="c1">// æŒ‡å®šä»æœåŠ¡å™¨åºå·</span>
            <span class="s1">'slave_no'</span>        <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
            <span class="c1">// æ˜¯å¦ä¸¥æ ¼æ£€æŸ¥å­—æ®µæ˜¯å¦å­˜åœ¨</span>
            <span class="s1">'fields_strict'</span>   <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
            <span class="c1">// æ˜¯å¦éœ€è¦æ–­çº¿é‡è¿</span>
            <span class="s1">'break_reconnect'</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">,</span>
            <span class="c1">// ç›‘å¬SQL</span>
            <span class="s1">'trigger_sql'</span>     <span class="o">=&gt;</span> <span class="nf">env</span><span class="p">(</span><span class="s1">'app_debug'</span><span class="p">,</span> <span class="kc">true</span><span class="p">),</span>
            <span class="c1">// å¼€å¯å­—æ®µç¼“å­˜</span>
            <span class="s1">'fields_cache'</span>    <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">,</span>
        <span class="p">],</span>

        <span class="c1">// æ›´å¤šçš„æ•°æ®åº“é…ç½®ä¿¡æ¯</span>
    <span class="p">],</span>
<span class="p">];</span>
</pre></table></code></div></div><p>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥<code class="language-plaintext highlighter-rouge">http(s)://ip+port/install</code> è¿›è¡Œå®‰è£…ï¼Œç¬¬ä¸€æ­¥ä¼šæ£€æŸ¥ç¯å¢ƒæ˜¯å¦é…ç½®å®Œæˆï¼Œä¼šæ˜¾ç¤ºæœªé…ç½®å¥½çš„éƒ¨åˆ†ï¼Œæ ¹æ®å®ƒçš„æç¤ºé…ç½®å¥½åç¬¬äºŒæ­¥å°±å¡«å†™MySQLçš„ä¿¡æ¯ï¼Œæœ€åå®Œæˆã€‚</p><h2 id="14-åšå®¢å®‰è£…"><span class="me-2">14 åšå®¢å®‰è£…*</span><a href="#14-åšå®¢å®‰è£…" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>docker run <span class="se">\</span>
  <span class="nt">-it</span> <span class="nt">-d</span> <span class="se">\</span>
  <span class="nt">--name</span> halo <span class="se">\</span>
  <span class="nt">-p</span> 8090:8090 <span class="se">\</span>
  <span class="nt">-v</span> &lt;path&gt;:/root/.halo2 <span class="se">\</span>
  halohub/halo:2.2.0 <span class="se">\</span>
  <span class="nt">--halo</span>.external-url<span class="o">=</span>http://localhost:8090/ <span class="se">\</span>
  <span class="nt">--halo</span>.security.initializer.superadminuser<span class="o">=</span>admin <span class="se">\</span>
  <span class="nt">--halo</span>.security.initializer.superadminpassword<span class="o">=</span>P@88w0rd
</pre></table></code></div></div><h3 id="å¤‡ä»½æ•°æ®é‡è¦"><span class="me-2">å¤‡ä»½æ•°æ®ï¼ˆé‡è¦ï¼‰</span><a href="#å¤‡ä»½æ•°æ®é‡è¦" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">cp</span> <span class="nt">-r</span> &lt;path&gt; &lt;å¤‡ä»½path&gt;
</pre></table></code></div></div><h2 id="15-minioå®‰è£…"><span class="me-2">15 minioå®‰è£…*</span><a href="#15-minioå®‰è£…" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>è¿™æ˜¯ä¸€ä¸ªå¯¹è±¡å­˜å‚¨æœåŠ¡ã€‚</p><p>é¦–å…ˆå°†åŸŸåçš„è¯ä¹¦æ–‡ä»¶å¤åˆ¶åˆ°<code class="language-plaintext highlighter-rouge">&lt;config-path&gt;/certs</code>ä¸‹ï¼Œ<code class="language-plaintext highlighter-rouge">&lt;config-path&gt;</code>è¿™æ˜¯è‡ªå®šä¹‰çš„ä¸€ä¸ªè·¯å¾„ï¼Œå°†åœ¨åé¢æ˜ å°„åœ¨dockerå®¹å™¨ä¸­ï¼Œè¯ä¹¦å‘½åä¸º<code class="language-plaintext highlighter-rouge">private.key</code>å’Œ<code class="language-plaintext highlighter-rouge">public.crt</code>ï¼Œæ³¨æ„<code class="language-plaintext highlighter-rouge">pem</code>å¯ä»¥ç›´æ¥é‡å‘½åä¸º<code class="language-plaintext highlighter-rouge">crt</code>ã€‚</p><p>ç„¶åè¿è¡Œï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre> docker run <span class="nt">--network</span><span class="o">=</span>host <span class="se">\</span>
    <span class="nt">-p</span> 9000:9000 <span class="nt">-p</span> 9001:9001 <span class="nt">--name</span> minio <span class="se">\</span>
    <span class="nt">-d</span> <span class="nt">--restart</span><span class="o">=</span>always <span class="se">\</span>
    <span class="nt">-e</span> <span class="s2">"MINIO_ACCESS_KEY=&lt;username&gt;"</span> <span class="se">\</span>
    <span class="nt">-e</span> <span class="s2">"MINIO_SECRET_KEY=&lt;password&gt;"</span> <span class="se">\</span>
    <span class="nt">-e</span> <span class="s2">"MINIO_SERVER_URL=https://minio.rainsin.cn:9000"</span> <span class="se">\</span>
    <span class="nt">-v</span> &lt;data-path&gt;:/data <span class="se">\</span>
    <span class="nt">-v</span> &lt;config-path&gt;:/root/.minio <span class="se">\</span>
    minio/minio server /data <span class="nt">--console-address</span> <span class="s2">"minio.rainsin.cn:9001"</span> <span class="nt">--address</span> <span class="s2">"minio.rainsin.cn:9000"</span>
</pre></table></code></div></div><p>ä¸åŠ <code class="language-plaintext highlighter-rouge">network=host</code>ï¼ˆè®¿é—®å®¿ä¸»æœºç½‘ç»œï¼‰ï¼Œå¯èƒ½<code class="language-plaintext highlighter-rouge">minio.rainsin.cn</code>è¿™ä¸ªåŸŸåæ— æ³•ä½¿ç”¨ã€‚</p><p><code class="language-plaintext highlighter-rouge">MINIO_SERVER_URL</code>ä¸ºåˆ†äº«é“¾æ¥åŸŸåã€‚</p><p><del>ä»¥ä¸‹å¼ƒç”¨ï¼š</del></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">nohup sudo </span><span class="nv">MINIO_ROOT_USER</span><span class="o">=</span>admin <span class="nv">MINIO_ROOT_PASSWORD</span><span class="o">=</span>ABC871220 minio server /home/ubuntu/pdata/minio/data <span class="nt">--console-address</span> <span class="s2">":9001"</span> &amp;
</pre></table></code></div></div><h2 id="16-mysqlå®‰è£…"><span class="me-2">16 MySQLå®‰è£…</span><a href="#16-mysqlå®‰è£…" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt-get <span class="nb">install </span>mysql-server
</pre></table></code></div></div><p>è®¾ç½®rootè´¦æˆ·é…ç½®ä¸ºä½¿ç”¨å¯†ç è¿›è¡Œèº«ä»½éªŒè¯ï¼Œå¹¶ä¸”è®¾ç½®å¯†ç ï¼š</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'root'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">IDENTIFIED</span> <span class="k">WITH</span> <span class="n">mysql_native_password</span> <span class="k">BY</span> <span class="s1">'mypassword'</span><span class="p">;</span>

<span class="n">FLUSH</span> <span class="k">PRIVILEGES</span><span class="p">;</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">'localhost'</code> å¯ä»¥æ”¹ä¸º<code class="language-plaintext highlighter-rouge">'%'</code> ï¼Œ<code class="language-plaintext highlighter-rouge">mypassword</code> æ˜¯ä½ çš„å¯†ç ã€‚</p><p>ç„¶åè¾“å…¥ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>mysql_secure_installation
</pre></table></code></div></div><p>è¾“å…¥ä¸Šé¢è®¾ç½®çš„å¯†ç ï¼Œä¹‹åå…¨éƒ¨<code class="language-plaintext highlighter-rouge">n</code>ã€‚</p><p>è®¾ç½®å¤–ç½‘è®¿é—®ï¼š</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="n">mysql</span> <span class="o">-</span><span class="n">u</span> <span class="n">root</span> <span class="o">-</span><span class="n">p</span>

<span class="n">mysql</span><span class="o">&gt;</span><span class="n">use</span> <span class="n">mysql</span><span class="p">;</span>

<span class="n">mysql</span><span class="o">&gt;</span><span class="k">update</span> <span class="k">user</span> <span class="k">set</span> <span class="k">host</span> <span class="o">=</span> <span class="s1">'%'</span> <span class="k">where</span> <span class="k">user</span> <span class="o">=</span><span class="err">â€™</span><span class="n">root</span><span class="err">â€™</span><span class="p">;</span>

<span class="n">mysql</span><span class="o">&gt;</span><span class="n">flush</span> <span class="k">privileges</span><span class="p">;</span>

<span class="n">mysql</span><span class="o">&gt;</span><span class="k">select</span> <span class="k">host</span><span class="p">,</span><span class="k">user</span> <span class="k">from</span> <span class="k">user</span> <span class="k">where</span> <span class="k">user</span><span class="o">=</span><span class="s1">'root'</span><span class="p">;</span>
</pre></table></code></div></div><p>ä½¿ç”¨sqlæ–‡ä»¶åˆå§‹åŒ–æ•°æ®åº“:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>mysql -u root -p dbname&lt;filename.sql
</pre></table></code></div></div><blockquote><p>æ³¨æ„ï¼šdbnameæ˜¯è‡ªå®šä¹‰çš„æ•°æ®åº“åï¼Œä¸”å¿…é¡»å…ˆåˆ›å»ºå¥½ã€‚</p></blockquote><h2 id="17-å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ"><span class="me-2">17 å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ*</span><a href="#17-å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker run <span class="nt">-d</span> <span class="nt">--restart</span><span class="o">=</span>always <span class="nt">--name</span> calibresrv_web <span class="nt">-p</span> 8083:8083 <span class="nt">-v</span> /mdata/book/config:/config <span class="nt">-v</span> /mdata/book/Library:/books <span class="nt">-v</span> /mdata/book/Books_Calibre:/Books_Calibre <span class="nt">-v</span> /mdata/book/Books_Calibre_Backup:/Books_Calibre_Backup <span class="se">\-</span>v /mdata/book/Backup_Library:/Backup_Library  <span class="nt">-e</span> <span class="nv">NOTIFICATIONS</span><span class="o">=</span>enabled <span class="nt">-e</span> <span class="nv">TOKEN</span><span class="o">=</span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxx"</span> <span class="nt">-e</span> <span class="nv">CHATID</span><span class="o">=</span><span class="s2">"xxxxxxxxx"</span>  <span class="nt">-d</span> mephistoxol/calibresrv_web
</pre></table></code></div></div><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker run <span class="nt">-d</span> <span class="nt">--name</span><span class="o">=</span>calibre <span class="nt">--security-opt</span> <span class="nv">seccomp</span><span class="o">=</span>unconfined <span class="sb">`</span><span class="c">#optional` -e PUID=1000 -e PGID=1000 -e TZ=Asia/Shanghai -e PASSWORD= `#optional` -e CLI_ARGS= `#optional` -p 8082:8080 -p 8081:8081 -v /path/to/data:/config --restart unless-stopped linuxserver/calibre:latest</span>
</pre></table></code></div></div><h2 id="18-btä¸‹è½½ç®¡ç†å™¨"><span class="me-2">18 Btä¸‹è½½ç®¡ç†å™¨*</span><a href="#18-btä¸‹è½½ç®¡ç†å™¨" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="181-transmissionå’Œqbittorrentçš„å®‰è£…åŠé…ç½®"><span class="me-2">18.1 transmissionå’ŒqBittorrentçš„å®‰è£…åŠé…ç½®</span><a href="#181-transmissionå’Œqbittorrentçš„å®‰è£…åŠé…ç½®" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>ä¸‹è½½ç§å­å’Œåšç§å·¥å…·ã€‚</p><p>qBittorrentçš„é»˜è®¤ç”¨æˆ·å/å¯†ç ï¼š<code class="language-plaintext highlighter-rouge">admin/adminadmin</code> ã€‚</p><p><del>èˆå¼ƒï¼š</del></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>docker create <span class="nt">--name</span><span class="o">=</span>qbittorrent  <span class="nt">-e</span> <span class="nv">WEBUIPORT</span><span class="o">=</span>8080 <span class="nt">-e</span> <span class="nv">PUID</span><span class="o">=</span>1026 <span class="nt">-e</span> <span class="nv">PGID</span><span class="o">=</span>100 <span class="nt">-e</span> <span class="nv">TZ</span><span class="o">=</span>Asia/Shanghai <span class="nt">-p</span> 6881:6881 <span class="nt">-p</span> 6881:6881/udp <span class="nt">-p</span> 8087:8080 <span class="nt">-v</span> /mdata/bt/config:/config  <span class="nt">-v</span> /mdata/bt/download:/downloads <span class="nt">--restart</span> unless-stopped superng6/qbittorrent:latest

docker start qbittorrent
</pre></table></code></div></div><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker run <span class="nt">-d</span> <span class="nt">--name</span><span class="o">=</span>transmission <span class="nt">-e</span> <span class="nv">PUID</span><span class="o">=</span>1000 <span class="nt">-e</span> <span class="nv">PGID</span><span class="o">=</span>1000 <span class="nt">-e</span> <span class="nv">TZ</span><span class="o">=</span>Asia/Shanghai <span class="nt">-e</span> <span class="nv">TRANSMISSION_WEB_HOME</span><span class="o">=</span>/transmission-web-control/src <span class="nt">-e</span> <span class="nv">USER</span><span class="o">=</span>&lt;user&gt; <span class="nt">-e</span> <span class="nv">PASS</span><span class="o">=</span>&lt;pass&gt; <span class="nt">-e</span> <span class="nv">WHITELIST</span><span class="o">=</span><span class="k">*</span> <span class="nt">-e</span> <span class="nv">PEERPORT</span><span class="o">=</span>51413 <span class="nt">-e</span> <span class="nv">HOST_WHITELIST</span><span class="o">=</span><span class="k">*</span> <span class="nt">-p</span> 9091:9091 <span class="nt">-p</span> 51413:51413 <span class="nt">-p</span> 51413:51413/udp <span class="nt">-v</span> /mdata/config:/config <span class="nt">-v</span> /mdata/bt/downloads:/downloads <span class="nt">-v</span> /mdata/bt/watch/folder:/watch <span class="nt">-v</span> /home/ubuntu/transmission-web-control:/transmission-web-control <span class="nt">--restart</span> unless-stopped linuxserver/transmission:latest
</pre></table></code></div></div><h4 id="1811-ä¸‹è½½transmission-web-control"><span class="me-2">18.1.1 <strong>ä¸‹è½½Â transmission-web-control</strong></span><a href="#1811-ä¸‹è½½transmission-web-control" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>GitHubåœ°å€ï¼š<a href="https://github.com/ronggang/transmission-web-control">https://github.com/ronggang/transmission-web-control</a></p><p>Gitee åœ°å€ï¼š <a href="https://gitee.com/culturist/transmission-web-control">https://gitee.com/culturist/transmission-web-control</a></p><p>å›½å†…æ¨èåœ¨ Gitee ä¸‹è½½ã€‚</p><p>è§£å‹æ–‡ä»¶åˆ°æœ¬åœ°ç›®å½•ã€‚</p><h4 id="1812-é…ç½®é‚®ç®±é€šçŸ¥"><span class="me-2">18.1.2 é…ç½®é‚®ç®±é€šçŸ¥</span><a href="#1812-é…ç½®é‚®ç®±é€šçŸ¥" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ol><li><p>å®‰è£…bsd-mailx</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre> <span class="nb">sudo </span>apt-fast <span class="nb">install </span>bsd-mailx
    
</pre></table></code></div></div><li><p>é…ç½®<code class="language-plaintext highlighter-rouge">s-nail</code></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> <span class="nb">sudo </span>nano /etc/s-nail.rc
</pre></table></code></div></div><p>é…ç½®é‚®ç®±SMTPæœåŠ¡ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre> <span class="nb">set </span><span class="nv">from</span><span class="o">=</span><span class="s2">"xxxxxxxx@qq.com"</span>   <span class="c">#ç”¨æ¥å‘é€é‚®ä»¶çš„é‚®ç®±</span>
 <span class="nb">set </span><span class="nv">smtp</span><span class="o">=</span><span class="s2">"smtps://smtp.qq.com:465"</span> <span class="c">#ä½ æ‰€é€‰é‚®ç®±çš„SMTPæœåŠ¡å™¨</span>
 <span class="nb">set </span>smtp-auth-user<span class="o">=</span><span class="s2">"xxxxxxxx@qq.com"</span> 
 <span class="nb">set </span>smtp-auth-password<span class="o">=</span><span class="s2">"XXXXXXXXXXXX"</span>  <span class="c">#é‚®ç®±æˆæƒç </span>
 <span class="nb">set </span>smtp-auth<span class="o">=</span>login
</pre></table></code></div></div><li><p>æµ‹è¯•</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> <span class="nb">echo</span> <span class="s2">"å°å¯çˆ±ï¼"</span> | s-nail <span class="nt">-s</span> <span class="s2">"è¿™æ˜¯ä¸ªæµ‹è¯•é‚®ä»¶ï¼"</span> xxxxxxxx@qq.com 
</pre></table></code></div></div><li><p>Tgé€šçŸ¥å‡†å¤‡</p><p><a href="https://t.me/BotFather">https://t.me/BotFather</a>ï¼Œæ‰“å¼€ä¸å®ƒçš„èŠå¤©ç•Œé¢ï¼Œä¸è®ºæ˜¯ Windows mac è¿˜æ˜¯ Android iOS çš„ telegram å®¢æˆ·ç«¯ã€‚</p><ol><li><p>åˆ›å»º bot ä»¥åŠè·å– token</p><p>è¾“å…¥ <code class="language-plaintext highlighter-rouge">/newbot</code>åå›è½¦ï¼Œå®ƒä¼šå›å¤ä»¥ä¸‹å†…å®¹ï¼š</p><blockquote><p>Alright, a new bot. How are we going to call it? Please choose a name for your bot.</p></blockquote><li>è¿™ä¸ªåå­—æ˜¯æ˜¾ç¤ºåç§° ï¼ˆdisplay nameï¼‰,ä¸æ˜¯å”¯ä¸€è¯†åˆ«ç ï¼Œç°åœ¨éšä¾¿è®¾ç½®ä¸€ä¸‹ï¼Œä¹‹åå¯ä»¥é€šè¿‡ <code class="language-plaintext highlighter-rouge">/setname</code>ä¿®æ”¹ï¼Œæ¯”å¦‚è®¾ç½®æˆ<code class="language-plaintext highlighter-rouge">Zhang san's sweety bot</code> ã€‚<li><p>æ¥ç€ä¼šè®©ä½ è®¾ç½®å”¯ä¸€åç§°ã€‚å­—ç¬¦ä¸²å¿…é¡» endsWith <code class="language-plaintext highlighter-rouge">bot</code>ï¼Œæ¯”å¦‚ <code class="language-plaintext highlighter-rouge">abc_bot</code>æˆ– <code class="language-plaintext highlighter-rouge">Hellobot</code>éƒ½æ˜¯åˆæ³•çš„ã€‚å¦‚æœä½ è®¾ç½®çš„åå­—å·²ç»è¢«å ç”¨éœ€è¦é‡æ–°è®¾ç½®ã€‚æ¯”å¦‚ä½ è®¾ç½®æˆäº† <code class="language-plaintext highlighter-rouge">test_bot</code> ã€‚</p><blockquote><p>Good. Now letâ€™s choose a username for your bot. It must end in <code class="language-plaintext highlighter-rouge">bot</code> . Like this, for example: TetrisBot or tetris_bot.</p></blockquote><li><p>æ­å–œï¼è®¾ç½®æˆåŠŸã€‚ä¼šè¿”å›ç»™ä½ é‡è¦çš„ API tokenï¼ŒåŠ¡å¿…è¦ä¿å­˜å¥½å®ƒã€‚å¦å¤–ä½ çš„ bot çš„å”¯ä¸€ url å°±å·²ç»ç”Ÿæˆ: <code class="language-plaintext highlighter-rouge">[https://t.me/test_bot](https://t.me/test_bot)</code> ã€‚</p><blockquote><p>Done! Congratulations on your new bot. You will find it at t.me/test_bot. You can now add a description, about section and profile picture for your bot, see /help for a list of commands. By the way, when youâ€™ve finished creating your cool bot, ping our Bot Support if you want a better username for it. Just make sure the bot is fully operational before you do this.</p><p>Use this token to access the HTTP API: <strong>12345678:sdfsfadsfasdfasdfasdfgdfhdfghfgh</strong> Keep your token secure and store it safely, it can be used by anyone to control your bot.</p><p>For a description of the Bot API, see this page: <a href="https://core.telegram.org/bots/api">https://core.telegram.org/bots/api</a></p></blockquote><p>çº¢è‰²çš„å­—ç¬¦å°±æ˜¯<code class="language-plaintext highlighter-rouge">BOT API</code>çš„TOKENã€‚</p><li>ä¸€äº›å…¶ä»–å¿…è¦çš„å‘½ä»¤ï¼š<ul><li><code class="language-plaintext highlighter-rouge">/setdescription</code> å¸®åŠ©ä½ è®¾ç½® bot çš„æè¿°<li><code class="language-plaintext highlighter-rouge">/setuserpic</code> è®¾ç½® bot çš„å¤´åƒã€‚ä¸Šä¼ çš„å›¾ç‰‡ size éœ€è¦å¤§äºç­‰äº 150x150ã€‚è€Œä¸”ä¸Šä¼ å›¾ç‰‡éœ€è¦é€‰æ‹©å‹ç¼©ï¼Œä¸èƒ½ä¸Šä¼ æ–‡ä»¶ï¼</ul><li><p>è·å–chat_id</p><p>ä½¿ç”¨çš„urlï¼š<code class="language-plaintext highlighter-rouge">https://api.telegram.org/bot{token}/getUpdates</code></p><p>ä½¿ç”¨ç¬¬4æ­¥è·å¾—çš„ <code class="language-plaintext highlighter-rouge">token</code>æ›¿æ¢ä¸Šè¿° url ä¸­çš„ <code class="language-plaintext highlighter-rouge">{token}</code>ç„¶åå¾—åˆ°æ–°çš„ urlï¼Œå¤åˆ¶ç²˜è´´åˆ°æµè§ˆå™¨åœ°å€æ ï¼Œå›è½¦è¯·æ±‚ã€‚ä¸å‡ºæ„å¤–ä½ ä¼šå¾—åˆ°å¦‚ä¸‹ response</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre> <span class="pi">{</span>
     <span class="s2">"</span><span class="s">ok"</span><span class="pi">:</span> <span class="nv">true</span><span class="pi">,</span>
     <span class="s2">"</span><span class="s">result"</span><span class="pi">:</span> <span class="pi">[]</span>
 <span class="pi">}</span>
</pre></table></code></div></div><p>å¾ˆå¥½ã€‚è¿™æ—¶ä½ æ‰“å¼€ä½ çš„ botï¼Œéšä¾¿å’Œå®ƒè¯´ä¸€å¥è¯ï¼Œæ¯”å¦‚ç»™å®ƒå‘ä¸€å¥ â€œHello Worldâ€ï¼Œæˆ–è€…å°†æœºå™¨äººæ·»åŠ è¿›ä¸€ä¸ªè‡ªå»ºçš„ç¾¤ç»„æˆ–è€…é¢‘é“ï¼Œç„¶åé‡æ–°è¯·æ±‚ä¸€éä¸Šè¿°çš„ urlï¼ˆæ›¿æ¢è¿‡ token çš„ï¼‰ï¼Œä¸å‡ºæ„å¤–ä½ æ”¶åˆ°çš„ response æ˜¯è¿™æ ·äº†</p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="w"> </span><span class="p">{</span><span class="nl">"ok"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"result"</span><span class="p">:[{</span><span class="nl">"update_id"</span><span class="p">:</span><span class="mi">248345768</span><span class="p">,</span><span class="w">
 </span><span class="nl">"my_chat_member"</span><span class="p">:{</span><span class="nl">"chat"</span><span class="p">:{</span><span class="err">**</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">-1001779449685</span><span class="err">**</span><span class="p">,</span><span class="nl">"title"</span><span class="p">:</span><span class="s2">"BT</span><span class="se">\u</span><span class="s2">72b6</span><span class="se">\u</span><span class="s2">6001</span><span class="se">\u</span><span class="s2">673a"</span><span class="p">,</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"supergroup"</span><span class="p">},</span><span class="nl">"from"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1270423426</span><span class="p">,</span><span class="nl">"is_bot"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"first_name"</span><span class="p">:</span><span class="s2">"Bill"</span><span class="p">,</span><span class="nl">"last_name"</span><span class="p">:</span><span class="s2">"Wang"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"Rainsins"</span><span class="p">},</span><span class="nl">"date"</span><span class="p">:</span><span class="mi">1678610811</span><span class="p">,</span><span class="nl">"old_chat_member"</span><span class="p">:{</span><span class="nl">"user"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">6213936314</span><span class="p">,</span><span class="nl">"is_bot"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"first_name"</span><span class="p">:</span><span class="s2">"chatGPT"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"rainsinchat_bot"</span><span class="p">},</span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"left"</span><span class="p">},</span><span class="nl">"new_chat_member"</span><span class="p">:{</span><span class="nl">"user"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">6213936314</span><span class="p">,</span><span class="nl">"is_bot"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"first_name"</span><span class="p">:</span><span class="s2">"chatGPT"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"rainsinchat_bot"</span><span class="p">},</span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"member"</span><span class="p">}}},{</span><span class="nl">"update_id"</span><span class="p">:</span><span class="mi">248345769</span><span class="p">,</span><span class="w">
 </span><span class="nl">"message"</span><span class="p">:{</span><span class="nl">"message_id"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="nl">"from"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1270423426</span><span class="p">,</span><span class="nl">"is_bot"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"first_name"</span><span class="p">:</span><span class="s2">"Bill"</span><span class="p">,</span><span class="nl">"last_name"</span><span class="p">:</span><span class="s2">"Wang"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"Rainsins"</span><span class="p">},</span><span class="nl">"chat"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">-929935885</span><span class="p">,</span><span class="nl">"title"</span><span class="p">:</span><span class="s2">"BT</span><span class="se">\u</span><span class="s2">72b6</span><span class="se">\u</span><span class="s2">6001</span><span class="se">\u</span><span class="s2">673a"</span><span class="p">,</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"group"</span><span class="p">,</span><span class="nl">"all_members_are_administrators"</span><span class="p">:</span><span class="kc">false</span><span class="p">},</span><span class="nl">"date"</span><span class="p">:</span><span class="mi">1678610811</span><span class="p">,</span><span class="nl">"migrate_to_chat_id"</span><span class="p">:</span><span class="mi">-1001779449685</span><span class="p">}},{</span><span class="nl">"update_id"</span><span class="p">:</span><span class="mi">248345770</span><span class="p">,</span><span class="w">
 </span><span class="nl">"message"</span><span class="p">:{</span><span class="nl">"message_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"from"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1087968824</span><span class="p">,</span><span class="nl">"is_bot"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"first_name"</span><span class="p">:</span><span class="s2">"Group"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"GroupAnonymousBot"</span><span class="p">},</span><span class="nl">"sender_chat"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">-1001779449685</span><span class="p">,</span><span class="nl">"title"</span><span class="p">:</span><span class="s2">"BT</span><span class="se">\u</span><span class="s2">72b6</span><span class="se">\u</span><span class="s2">6001</span><span class="se">\u</span><span class="s2">673a"</span><span class="p">,</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"supergroup"</span><span class="p">},</span><span class="nl">"chat"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">-1001779449685</span><span class="p">,</span><span class="nl">"title"</span><span class="p">:</span><span class="s2">"BT</span><span class="se">\u</span><span class="s2">72b6</span><span class="se">\u</span><span class="s2">6001</span><span class="se">\u</span><span class="s2">673a"</span><span class="p">,</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"supergroup"</span><span class="p">},</span><span class="nl">"date"</span><span class="p">:</span><span class="mi">1678610811</span><span class="p">,</span><span class="nl">"migrate_from_chat_id"</span><span class="p">:</span><span class="mi">-929935885</span><span class="p">}},{</span><span class="nl">"update_id"</span><span class="p">:</span><span class="mi">248345771</span><span class="p">,</span><span class="w">
 </span><span class="nl">"message"</span><span class="p">:{</span><span class="nl">"message_id"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nl">"from"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1270423426</span><span class="p">,</span><span class="nl">"is_bot"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"first_name"</span><span class="p">:</span><span class="s2">"Bill"</span><span class="p">,</span><span class="nl">"last_name"</span><span class="p">:</span><span class="s2">"Wang"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"Rainsins"</span><span class="p">},</span><span class="nl">"chat"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">-1001779449685</span><span class="p">,</span><span class="nl">"title"</span><span class="p">:</span><span class="s2">"BT</span><span class="se">\u</span><span class="s2">72b6</span><span class="se">\u</span><span class="s2">6001</span><span class="se">\u</span><span class="s2">673a"</span><span class="p">,</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"supergroup"</span><span class="p">},</span><span class="nl">"date"</span><span class="p">:</span><span class="mi">1678610813</span><span class="p">,</span><span class="nl">"new_chat_participant"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">5042722248</span><span class="p">,</span><span class="nl">"is_bot"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"first_name"</span><span class="p">:</span><span class="s2">"</span><span class="se">\u</span><span class="s2">5c0fC-</span><span class="se">\u</span><span class="s2">5de5</span><span class="se">\u</span><span class="s2">5177</span><span class="se">\u</span><span class="s2">4eba"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"CAOYYDS_BOT"</span><span class="p">},</span><span class="nl">"new_chat_member"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">5042722248</span><span class="p">,</span><span class="nl">"is_bot"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"first_name"</span><span class="p">:</span><span class="s2">"</span><span class="se">\u</span><span class="s2">5c0fC-</span><span class="se">\u</span><span class="s2">5de5</span><span class="se">\u</span><span class="s2">5177</span><span class="se">\u</span><span class="s2">4eba"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"CAOYYDS_BOT"</span><span class="p">},</span><span class="nl">"new_chat_members"</span><span class="p">:[{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">5042722248</span><span class="p">,</span><span class="nl">"is_bot"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"first_name"</span><span class="p">:</span><span class="s2">"</span><span class="se">\u</span><span class="s2">5c0fC-</span><span class="se">\u</span><span class="s2">5de5</span><span class="se">\u</span><span class="s2">5177</span><span class="se">\u</span><span class="s2">4eba"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"CAOYYDS_BOT"</span><span class="p">}]}},{</span><span class="nl">"update_id"</span><span class="p">:</span><span class="mi">248345772</span><span class="p">,</span><span class="w">
 </span><span class="nl">"message"</span><span class="p">:{</span><span class="nl">"message_id"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="nl">"from"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1270423426</span><span class="p">,</span><span class="nl">"is_bot"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"first_name"</span><span class="p">:</span><span class="s2">"Bill"</span><span class="p">,</span><span class="nl">"last_name"</span><span class="p">:</span><span class="s2">"Wang"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"Rainsins"</span><span class="p">},</span><span class="nl">"chat"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">-1001779449685</span><span class="p">,</span><span class="nl">"title"</span><span class="p">:</span><span class="s2">"BT</span><span class="se">\u</span><span class="s2">72b6</span><span class="se">\u</span><span class="s2">6001</span><span class="se">\u</span><span class="s2">673a"</span><span class="p">,</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"supergroup"</span><span class="p">},</span><span class="nl">"date"</span><span class="p">:</span><span class="mi">1678610831</span><span class="p">,</span><span class="nl">"new_chat_participant"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1745206100</span><span class="p">,</span><span class="nl">"is_bot"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"first_name"</span><span class="p">:</span><span class="s2">"</span><span class="se">\u</span><span class="s2">6d88</span><span class="se">\u</span><span class="s2">606f</span><span class="se">\u</span><span class="s2">4e91</span><span class="se">\u</span><span class="s2">2601</span><span class="se">\u</span><span class="s2">fe0f"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"MsgWikiBot"</span><span class="p">},</span><span class="nl">"new_chat_member"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1745206100</span><span class="p">,</span><span class="nl">"is_bot"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"first_name"</span><span class="p">:</span><span class="s2">"</span><span class="se">\u</span><span class="s2">6d88</span><span class="se">\u</span><span class="s2">606f</span><span class="se">\u</span><span class="s2">4e91</span><span class="se">\u</span><span class="s2">2601</span><span class="se">\u</span><span class="s2">fe0f"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"MsgWikiBot"</span><span class="p">},</span><span class="nl">"new_chat_members"</span><span class="p">:[{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1745206100</span><span class="p">,</span><span class="nl">"is_bot"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"first_name"</span><span class="p">:</span><span class="s2">"</span><span class="se">\u</span><span class="s2">6d88</span><span class="se">\u</span><span class="s2">606f</span><span class="se">\u</span><span class="s2">4e91</span><span class="se">\u</span><span class="s2">2601</span><span class="se">\u</span><span class="s2">fe0f"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"MsgWikiBot"</span><span class="p">}]}},{</span><span class="nl">"update_id"</span><span class="p">:</span><span class="mi">248345773</span><span class="p">,</span><span class="w">
 </span><span class="nl">"message"</span><span class="p">:{</span><span class="nl">"message_id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="nl">"from"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1270423426</span><span class="p">,</span><span class="nl">"is_bot"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"first_name"</span><span class="p">:</span><span class="s2">"Bill"</span><span class="p">,</span><span class="nl">"last_name"</span><span class="p">:</span><span class="s2">"Wang"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"Rainsins"</span><span class="p">,</span><span class="nl">"language_code"</span><span class="p">:</span><span class="s2">"zh-hans"</span><span class="p">},</span><span class="nl">"chat"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1270423426</span><span class="p">,</span><span class="nl">"first_name"</span><span class="p">:</span><span class="s2">"Bill"</span><span class="p">,</span><span class="nl">"last_name"</span><span class="p">:</span><span class="s2">"Wang"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"Rainsins"</span><span class="p">,</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"private"</span><span class="p">},</span><span class="nl">"date"</span><span class="p">:</span><span class="mi">1678614094</span><span class="p">,</span><span class="nl">"text"</span><span class="p">:</span><span class="s2">"/start"</span><span class="p">,</span><span class="nl">"entities"</span><span class="p">:[{</span><span class="nl">"offset"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"length"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"bot_command"</span><span class="p">}]}}]}</span><span class="w">
</span></pre></table></code></div></div><p>å¦‚æœæœ‰jsonç¾åŒ–æ’ä»¶ï¼Œå¯èƒ½ä¼šå¥½æ‰¾ä¸€äº›ï¼Œå¦‚æœæµè§ˆå™¨æ²¡æœ‰å®‰è£…ä¸€äº› json ç¾åŒ–æ’ä»¶ï¼Œé‚£ä¹ˆå¤åˆ¶å®ƒä»¬åˆ°ä»»ä½•ä¸€ä¸ªåœ¨çº¿ json è§£ææ ¼å¼åŒ–ç½‘ç«™ï¼Œæ¯”å¦‚<a href="https://www.sojson.com/">https://www.sojson.com/</a>é€‰æ‹©å¯¹åº”çš„æ ¼å¼åŒ–åŠŸèƒ½æ ¼å¼åŒ–æ–‡æœ¬ã€‚</p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="nl">"ok"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
       </span><span class="nl">"update_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">248345768</span><span class="p">,</span><span class="w">
       </span><span class="nl">"my_chat_member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"chat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
           </span><span class="err">**</span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1001779449685</span><span class="p">,</span><span class="err">**</span><span class="w">
           </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTçŠ¶æ€æœº"</span><span class="p">,</span><span class="w">
           </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"supergroup"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="err">......</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="err">.....</span><span class="w">
   </span><span class="p">]</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>çŸ¥é“äº† token å’Œ chatId å°±å¯ä»¥ä½¿ç”¨ bot äº†ã€‚</p><p><strong>curl æµ‹è¯•</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="w"> </span><span class="err">curl</span><span class="w"> </span><span class="err">-s</span><span class="w"> </span><span class="err">-X</span><span class="w"> </span><span class="err">POST</span><span class="w"> </span><span class="err">https://api.telegram.org/bot</span><span class="p">{</span><span class="err">token</span><span class="p">}</span><span class="err">/sendMessage</span><span class="w"> </span><span class="err">-d</span><span class="w"> </span><span class="err">chat_id=</span><span class="p">{</span><span class="err">chatId</span><span class="p">}</span><span class="w"> </span><span class="err">-d</span><span class="w"> </span><span class="err">text=</span><span class="s2">"Hello World"</span><span class="w">
</span></pre></table></code></div></div></ol><li><p>é…ç½®é€šçŸ¥è„šæœ¬</p><p>transmissionå’Œqbittorrentçš„å‚æ•°ä¸åŒéœ€è¦åˆ†åˆ«é…ç½®ã€‚å¯ä»¥å°†å®ƒä»¬çš„è„šæœ¬åˆ†åˆ«æ”¾åœ¨ä¸¤ä¸ªæ–‡ä»¶å¤¹ã€‚</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre> <span class="nb">cd</span> /var
 <span class="nb">sudo mkdir </span>tm qb
 <span class="nb">cd </span>tm <span class="o">&amp;&amp;</span> <span class="nb">sudo touch </span>btmail.sh btadd.sh btseed.sh 
 <span class="nb">cd</span> ../
 <span class="nb">cd </span>qb <span class="o">&amp;&amp;</span> <span class="nb">sudo touch </span>btmail.sh btadd.sh
 <span class="nb">sudo chmod</span> +xr  /var/tm/<span class="k">*</span>.sh /var/qb/<span class="k">*</span>.sh
</pre></table></code></div></div><p>ç„¶ååˆ†åˆ«ç¼–è¾‘ï¼Œå¯ä»¥è‡ªå·±å†™ä¸€äº›åŠŸèƒ½ï¼Œæ¯”å¦‚é€šçŸ¥tgã€é€šçŸ¥é‚®ä»¶ã€ç£åŠ›ç®¡ç†ï¼ˆéœ€è¦bashçš„ä¸€äº›çŸ¥è¯†ï¼‰ã€‚</p><p><code class="language-plaintext highlighter-rouge">btmail.sh</code> ä¸ºç£åŠ›ä¸‹è½½å®Œæˆæ—¶è¿è¡Œï¼Œ<code class="language-plaintext highlighter-rouge">btadd.sh</code>ä¸ºæ·»åŠ ç£åŠ›æˆåŠŸåè¿è¡Œï¼Œ<code class="language-plaintext highlighter-rouge">btseed.sh</code>ä¸ºç£åŠ›ä»»åŠ¡å®Œæˆåè¿è¡Œã€‚</p><p>transmissionå˜é‡è§„åˆ™ï¼š</p><ul><li><code class="language-plaintext highlighter-rouge">TR_APP_VERSION</code> - Transmissionçš„ç‰ˆæœ¬, e.g. <code class="language-plaintext highlighter-rouge">4.0.0</code><li><code class="language-plaintext highlighter-rouge">TR_TIME_LOCALTIME</code><li><code class="language-plaintext highlighter-rouge">TR_TORRENT_BYTES_DOWNLOADED</code> - ç£åŠ›ä¸‹è½½å­—èŠ‚æ•°<li><code class="language-plaintext highlighter-rouge">TR_TORRENT_DIR</code> - ç£åŠ›ä¸‹è½½ä½ç½®<li><code class="language-plaintext highlighter-rouge">TR_TORRENT_HASH</code> - ç£åŠ›å“ˆå¸Œ<li><code class="language-plaintext highlighter-rouge">TR_TORRENT_ID</code><li><code class="language-plaintext highlighter-rouge">TR_TORRENT_LABELS</code> - ç£åŠ›æ ‡ç­¾<li><code class="language-plaintext highlighter-rouge">TR_TORRENT_NAME</code> - ç£åŠ›åå­— (ä¸æ˜¯æ–‡ä»¶å)<li><code class="language-plaintext highlighter-rouge">TR_TORRENT_TRACKERS</code> - ç£åŠ›trcakeråˆ—è¡¨</ul><p>transmissionå¯ä»¥æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼Œå¯ä»¥è‡ªç”±æ›´æ”¹ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
</pre><td class="rouge-code"><pre> <span class="c">#!/bin/sh</span>
    
 <span class="nv">NAIL</span><span class="o">=</span>/usr/bin/s-nail
 <span class="nv">PROXY</span><span class="o">=</span>/usr/bin/proxychains4 <span class="c">#ä»£ç†å‘½ä»¤ï¼Œtelegraméœ€è¦ã€‚</span>
    
 <span class="nv">totalsize</span><span class="o">=</span><span class="k">${</span><span class="nv">TR_TORRENT_BYTES_DOWNLOADED</span><span class="k">}</span>
    
 <span class="c">#æ ¼å¼åŒ–å®¹é‡ï¼Œå°†Bè½¬æ¢ä¸ºMBï¼ŒGBç­‰å•ä½</span>
 <span class="nv">totalsize</span><span class="o">=</span><span class="k">${</span><span class="nv">torrent_size</span><span class="k">}</span>
 <span class="k">if</span> <span class="o">[</span> 1024 <span class="nt">-gt</span> <span class="nv">$totalsize</span> <span class="o">]</span><span class="p">;</span>
        <span class="k">then </span><span class="nv">size</span><span class="o">=</span><span class="s2">"</span><span class="nv">$totalsize</span><span class="s2">"</span>B
 <span class="k">elif</span> <span class="o">[</span> 1048576 <span class="nt">-gt</span> <span class="nv">$totalsize</span> <span class="o">]</span><span class="p">;</span>
        <span class="k">then
        </span><span class="nv">size</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span>  <span class="s2">"scale=3; a = </span><span class="nv">$totalsize</span><span class="s2"> / 1024 ; if (length(a)==scale(a)) print 0;print a"</span>  | bc <span class="sb">`</span>
 	<span class="nv">size</span><span class="o">=</span><span class="s2">"</span><span class="nv">$size</span><span class="s2">"</span>KB
 <span class="k">elif</span> <span class="o">[</span> 1073741824 <span class="nt">-gt</span> <span class="nv">$totalsize</span> <span class="o">]</span><span class="p">;</span>
        <span class="k">then
        </span><span class="nv">size</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span>  <span class="s2">"scale=3; a = </span><span class="nv">$totalsize</span><span class="s2"> / 1048576 ; if (length(a)==scale(a)) print 0;print a"</span>  | bc <span class="sb">`</span>
 	<span class="nv">size</span><span class="o">=</span><span class="s2">"</span><span class="nv">$size</span><span class="s2">"</span>MB
 <span class="k">elif</span> <span class="o">[</span> 1073741824 <span class="nt">-le</span> <span class="nv">$totalsize</span> <span class="o">]</span><span class="p">;</span>
        <span class="k">then
        </span><span class="nv">size</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span>  <span class="s2">"scale=3; a = </span><span class="nv">$totalsize</span><span class="s2"> / 1073741824 ; if (length(a)==scale(a)) print 0;print a"</span>  | bc <span class="sb">`</span>
 	<span class="nv">size</span><span class="o">=</span><span class="s2">"</span><span class="nv">$size</span><span class="s2">"</span>GB
 <span class="k">else
        </span><span class="nv">size</span><span class="o">=</span><span class="s2">"0"</span>
         <span class="k">fi</span>
    
 <span class="c">#telegramé€šçŸ¥</span>
    
 <span class="nv">TMPFILETG</span><span class="o">=</span><span class="si">$(</span><span class="nb">mktemp</span> <span class="nt">-t</span> qbittorent.XXXXXXXXXX<span class="si">)</span>
 <span class="c">#botçš„TOKENï¼Œå’Œchat_idï¼Œè·å–æ–¹æ³•å‚è§ä¸Šæ¡ã€‚</span>
 <span class="nv">TOKEN</span><span class="o">=</span><span class="k">********</span>:<span class="k">**************************</span>
 <span class="nv">chat_ID</span><span class="o">=</span>-<span class="k">***************</span>
    
 <span class="c">#ä¿¡æ¯å†…å®¹</span>
 <span class="nb">cat</span> <span class="o">&gt;</span> <span class="nv">$TMPFILETG</span> <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh">
 *äº²ï¼Œtransmissionæœ‰ä¸ªç£åŠ›ğŸ§²ä¸‹è½½å®Œæˆäº†ï¼Œèµ¶ç´§å»çœ‹çœ‹!*
 ---
 å®¢æˆ·ç«¯ï¼štransmission-</span><span class="k">${</span><span class="nv">TR_APP_VERSION</span><span class="k">}</span><span class="sh">ï¼Œ
 ç£åŠ›åç§°ï¼š</span><span class="k">${</span><span class="nv">TR_TORRENT_NAME</span><span class="k">}</span><span class="sh">ï¼Œ
 ç£åŠ›å¤§å°ï¼š</span><span class="k">${</span><span class="nv">size</span><span class="k">}</span><span class="sh">ï¼Œ
 ä¿å­˜åœ°å€ï¼š</span><span class="k">${</span><span class="nv">TR_TORRENT_DIR</span><span class="k">}</span><span class="sh">ï¼Œ
 ç£åŠ›é“¾æ¥ï¼š*magnet:?xt=urn:btih:</span><span class="k">${</span><span class="nv">TR_TORRENT_HASH</span><span class="k">}</span><span class="sh">*ï¼Œ
 æ·»åŠ æ—¶é—´ï¼š</span><span class="si">$(</span><span class="nb">date</span> <span class="s1">'+%Y-%m-%d %H:%M:%S'</span><span class="si">)</span><span class="sh">ï¼Œ
 å‘æ‰¬äº’è”ç½‘ç²¾ç¥ï¼ŒæŠµåˆ¶è¿…é›·å¸è¡€ğŸ’©ã€‚
 å‘æ‰¬äº’è”ç½‘ç²¾ç¥,è®©æ¯ä¸€ä¸ªç§å­éƒ½ç”Ÿæ ¹å‘èŠ½â€ã€‚
</span><span class="no"> EOF
    
</span> <span class="c">#è¯»å–å†…å®¹</span>
 <span class="nv">DATA</span><span class="o">=</span><span class="sb">`</span><span class="nb">cat</span> <span class="nv">$TMPFILETG</span><span class="sb">`</span>
    
 <span class="nv">MODE</span><span class="o">=</span><span class="s1">'Markdown'</span>
 <span class="nv">URL</span><span class="o">=</span><span class="s2">"https://api.telegram.org/bot</span><span class="k">${</span><span class="nv">TOKEN</span><span class="k">}</span><span class="s2">/sendMessage"</span>
    
 <span class="c">#è¿˜å¯ä»¥å‘é€è§†é¢‘ï¼Œå›¾ç‰‡ç­‰ï¼Œå…·ä½“å¯ä»¥å‚è€ƒtg bot apiå®˜ç½‘</span>
    
 <span class="nv">$PROXY</span> curl <span class="nt">-s</span> <span class="nt">-o</span> /dev/null <span class="nt">-X</span> POST <span class="nv">$URL</span> <span class="nt">-d</span> <span class="nv">chat_id</span><span class="o">=</span><span class="k">${</span><span class="nv">chat_ID</span><span class="k">}</span> <span class="nt">-d</span> <span class="nv">parse_mode</span><span class="o">=</span><span class="k">${</span><span class="nv">MODE</span><span class="k">}</span> <span class="nt">-d</span> <span class="nv">text</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">DATA</span><span class="k">}</span><span class="s2">"</span>
    
 <span class="c">#é‚®ä»¶é€šçŸ¥</span>
    
 <span class="c">#è¦å‘é€çš„é‚®ä»¶</span>
 <span class="nv">TO_ADDR1</span><span class="o">=</span><span class="s2">"**********@gmail.com"</span>
 <span class="nv">TO_ADDR2</span><span class="o">=</span><span class="s2">"***********@qq.com"</span>
 <span class="c">#TO_ADDR2="***********@163.com"</span>
    
 <span class="c">#é‚®ä»¶ä¸»é¢˜</span>
 <span class="nv">SUBJECT</span><span class="o">=</span><span class="s2">"äº²ï¼Œtransmissionæœ‰ä¸ªç£åŠ›ğŸ§²ä¸‹è½½å®Œæˆäº†ï¼Œèµ¶ç´§å»çœ‹çœ‹!"</span>
    
 <span class="c">#å‘é€é‚®ä»¶</span>
 <span class="nv">$NAIL</span> <span class="nt">-s</span> <span class="s2">"</span><span class="nv">$SUBJECT</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$TO_ADDR1</span><span class="s2">"</span> &lt; <span class="s2">"</span><span class="nv">$TMPFILETG</span><span class="s2">"</span>
 <span class="nv">$NAIL</span> <span class="nt">-s</span> <span class="s2">"</span><span class="nv">$SUBJECT</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$TO_ADDR2</span><span class="s2">"</span> &lt; <span class="s2">"</span><span class="nv">$TMPFILETG</span><span class="s2">"</span>
    
 <span class="c">#åˆ é™¤ä¸´æ—¶æ–‡ä»¶</span>
 <span class="nb">rm</span> <span class="s2">"</span><span class="nv">$TMPFILETG</span><span class="s2">"</span>
</pre></table></code></div></div><p>qbittorrentå˜é‡è§„åˆ™ï¼š</p><ul><li>%Nï¼šTorrent åç§°<li>%Lï¼šåˆ†ç±»<li>%Gï¼šæ ‡ç­¾ï¼ˆä»¥é€—å·åˆ†éš”ï¼‰<li>%Fï¼šå†…å®¹è·¯å¾„ï¼ˆä¸å¤šæ–‡ä»¶ torrent çš„æ ¹ç›®å½•ç›¸åŒï¼‰<li>%Rï¼šæ ¹ç›®å½•ï¼ˆç¬¬ä¸€ä¸ª torrent çš„å­ç›®å½•è·¯å¾„ï¼‰<li>%Dï¼šä¿å­˜è·¯å¾„<li>%Cï¼šæ–‡ä»¶æ•°<li>%Zï¼šTorrent å¤§å°ï¼ˆå­—èŠ‚ï¼‰<li>%Tï¼šå½“å‰ tracker<li>%I: ä¿¡æ¯å“ˆå¸Œå€¼ v1<li>%Jï¼šä¿¡æ¯å“ˆå¸Œå€¼ v2<li>%K: Torrent ID</ul><p>qbittorrentçš„è®¾ç½®ä¸transmissionä¸ä¸€æ ·ï¼Œtransmissionç›´æ¥è¾“å…¥è„šæœ¬è·¯å¾„å°±è¡Œï¼Œqbçš„ä¸ä¸€æ ·</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> bash /var/qb/btadd.sh <span class="s2">"%N"</span> <span class="s2">"%F"</span> <span class="s2">"%R"</span> <span class="s2">"%D"</span> <span class="s2">"%C"</span> <span class="s2">"%Z"</span> <span class="s2">"%I"</span> <span class="s2">"%J"</span>
</pre></table></code></div></div><p>å‚æ•°çš„ä¼ å…¥æ¬¡åºå¾ˆé‡è¦ï¼Œåœ¨è„šæœ¬ä¸­æˆ‘ä»¬è¦ç”¨è¿™ä¸ªæ¬¡åºæ¥æ”¶å‚æ•°ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre> <span class="c">#!/bin/sh</span>
    
 <span class="nv">torrent_name</span><span class="o">=</span><span class="nv">$1</span>
 <span class="nv">content_dir</span><span class="o">=</span><span class="nv">$2</span>
 <span class="nv">root_dir</span><span class="o">=</span><span class="nv">$3</span>
 <span class="nv">save_dir</span><span class="o">=</span><span class="nv">$4</span>
 <span class="nv">files_num</span><span class="o">=</span><span class="nv">$5</span>
 <span class="nv">torrent_size</span><span class="o">=</span><span class="nv">$6</span>
 <span class="nv">file_hash</span><span class="o">=</span><span class="nv">$7</span>
 <span class="nv">file_hash2</span><span class="o">=</span><span class="nv">$8</span>
 <span class="nv">label</span><span class="o">=</span><span class="nv">$9</span>
 ......
</pre></table></code></div></div><p>æˆ‘çš„qbittorrentè„šæœ¬ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
</pre><td class="rouge-code"><pre> <span class="c">#!/bin/sh</span>
    
 <span class="nv">torrent_name</span><span class="o">=</span><span class="nv">$1</span>
 <span class="nv">content_dir</span><span class="o">=</span><span class="nv">$2</span>
 <span class="nv">root_dir</span><span class="o">=</span><span class="nv">$3</span>
 <span class="nv">save_dir</span><span class="o">=</span><span class="nv">$4</span>
 <span class="nv">files_num</span><span class="o">=</span><span class="nv">$5</span>
 <span class="nv">torrent_size</span><span class="o">=</span><span class="nv">$6</span>
 <span class="nv">file_hash</span><span class="o">=</span><span class="nv">$7</span>
 <span class="nv">file_hash2</span><span class="o">=</span><span class="nv">$8</span>
 <span class="nv">label</span><span class="o">=</span><span class="nv">$9</span>
    
 <span class="nv">totalsize</span><span class="o">=</span><span class="k">${</span><span class="nv">torrent_size</span><span class="k">}</span>
    
 <span class="k">if</span> <span class="o">[</span> 1024 <span class="nt">-gt</span> <span class="nv">$totalsize</span> <span class="o">]</span><span class="p">;</span>
        <span class="k">then </span><span class="nv">size</span><span class="o">=</span><span class="s2">"</span><span class="nv">$totalsize</span><span class="s2">"</span>B
 <span class="k">elif</span> <span class="o">[</span> 1048576 <span class="nt">-gt</span> <span class="nv">$totalsize</span> <span class="o">]</span><span class="p">;</span>
        <span class="k">then
        </span><span class="nv">size</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span>  <span class="s2">"scale=3; a = </span><span class="nv">$totalsize</span><span class="s2"> / 1024 ; if (length(a)==scale(a)) print 0;print a"</span>  | bc <span class="sb">`</span>
 	<span class="nv">size</span><span class="o">=</span><span class="s2">"</span><span class="nv">$size</span><span class="s2">"</span>KB
 <span class="k">elif</span> <span class="o">[</span> 1073741824 <span class="nt">-gt</span> <span class="nv">$totalsize</span> <span class="o">]</span><span class="p">;</span>
        <span class="k">then
        </span><span class="nv">size</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span>  <span class="s2">"scale=3; a = </span><span class="nv">$totalsize</span><span class="s2"> / 1048576 ; if (length(a)==scale(a)) print 0;print a"</span>  | bc <span class="sb">`</span>
 	<span class="nv">size</span><span class="o">=</span><span class="s2">"</span><span class="nv">$size</span><span class="s2">"</span>MB
 <span class="k">elif</span> <span class="o">[</span> 1073741824 <span class="nt">-le</span> <span class="nv">$totalsize</span> <span class="o">]</span><span class="p">;</span>
        <span class="k">then
        </span><span class="nv">size</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span>  <span class="s2">"scale=3; a = </span><span class="nv">$totalsize</span><span class="s2"> / 1073741824 ; if (length(a)==scale(a)) print 0;print a"</span>  | bc <span class="sb">`</span>
 	<span class="nv">size</span><span class="o">=</span><span class="s2">"</span><span class="nv">$size</span><span class="s2">"</span>GB
 <span class="k">else
        </span><span class="nv">size</span><span class="o">=</span><span class="s2">"0"</span>
         <span class="k">fi
    
 </span><span class="nv">PROXY</span><span class="o">=</span>/usr/bin/proxychains4
 <span class="nv">NAIL</span><span class="o">=</span>/usr/bin/s-nail
    
 <span class="nv">TMPFILETG</span><span class="o">=</span><span class="si">$(</span><span class="nb">mktemp</span> <span class="nt">-t</span> qbittorent.XXXXXXXXXX<span class="si">)</span>
 <span class="nv">TOKEN</span><span class="o">=</span><span class="k">***********</span>:<span class="k">***************************</span>
 <span class="nv">chat_ID</span><span class="o">=</span>-<span class="k">*************</span>
    
 <span class="nb">cat</span> <span class="o">&gt;</span> <span class="nv">$TMPFILETG</span> <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh">
 *äº²ï¼Œæœ‰ä¸ªç£åŠ›ğŸ§²æ’­ç§å®Œæˆäº†ï¼ŒåŠŸå¾·åŠ ä¸€!*
 ---
 å®¢æˆ·ç«¯ï¼šqBittorent 4.5.2
 ç£åŠ›åç§°ï¼š</span><span class="k">${</span><span class="nv">torrent_name</span><span class="k">}</span><span class="sh">ï¼Œ
 ç£åŠ›å¤§å°ï¼š</span><span class="k">${</span><span class="nv">size</span><span class="k">}</span><span class="sh">ï¼Œ
 ä¿å­˜åœ°å€ï¼š</span><span class="k">${</span><span class="nv">save_dir</span><span class="k">}</span><span class="sh">ï¼Œ
 ç£åŠ›é“¾æ¥ï¼š*magnet:?xt=urn:btih:</span><span class="k">${</span><span class="nv">file_hash</span><span class="k">}</span><span class="sh">*ï¼Œ
 æ·»åŠ æ—¶é—´ï¼š</span><span class="si">$(</span><span class="nb">date</span> <span class="s1">'+%Y-%m-%d %H:%M:%S'</span><span class="si">)</span><span class="sh">ï¼Œ
 å‘æ‰¬äº’è”ç½‘ç²¾ç¥ï¼ŒæŠµåˆ¶è¿…é›·å¸è¡€ğŸ’©ã€‚
 å‘æ‰¬äº’è”ç½‘ç²¾ç¥,è®©æ¯ä¸€ä¸ªç§å­éƒ½ç”Ÿæ ¹å‘èŠ½â€ã€‚
 [åŠ¨å›¾ç•ªå·ï¼šSSNI-784](https://qcc.woimg.net/images/2020/10/06/ssni-784-1.gif)
</span><span class="no"> EOF
    
</span> <span class="nv">DATA</span><span class="o">=</span><span class="sb">`</span><span class="nb">cat</span> <span class="nv">$TMPFILETG</span><span class="sb">`</span>
    
 <span class="nv">MODE</span><span class="o">=</span><span class="s1">'Markdown'</span>
 <span class="nv">URL</span><span class="o">=</span><span class="s2">"https://api.telegram.org/bot</span><span class="k">${</span><span class="nv">TOKEN</span><span class="k">}</span><span class="s2">/sendMessage"</span>
    
 <span class="nv">$PROXY</span> curl <span class="nt">-s</span> <span class="nt">-o</span> /dev/null <span class="nt">-X</span> POST <span class="nv">$URL</span> <span class="nt">-d</span> <span class="nv">chat_id</span><span class="o">=</span><span class="k">${</span><span class="nv">chat_ID</span><span class="k">}</span> <span class="nt">-d</span> <span class="nv">parse_mode</span><span class="o">=</span><span class="k">${</span><span class="nv">MODE</span><span class="k">}</span> <span class="nt">-d</span> <span class="nv">text</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">DATA</span><span class="k">}</span><span class="s2">"</span>
    
 <span class="c">#TO_ADDRä¸ºä½ è¦é€šçŸ¥çš„é‚®ç®±</span>
 <span class="nv">TO_ADDR1</span><span class="o">=</span><span class="s2">"********@gmail.com"</span>
 <span class="nv">TO_ADDR2</span><span class="o">=</span><span class="s2">"***********@qq.com"</span>
    
 <span class="nv">SUBJECT</span><span class="o">=</span><span class="s2">"äº²ï¼Œæœ‰ä¸ªç£åŠ›ğŸ§²æ’­ç§å®Œæˆäº†ï¼ŒåŠŸå¾·åŠ ä¸€!"</span>
    
 <span class="nv">$NAIL</span> <span class="nt">-s</span> <span class="s2">"</span><span class="nv">$SUBJECT</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$TO_ADDR1</span><span class="s2">"</span> &lt; <span class="s2">"</span><span class="nv">$TMPFILETG</span><span class="s2">"</span>
 <span class="nv">$NAIL</span> <span class="nt">-s</span> <span class="s2">"</span><span class="nv">$SUBJECT</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$TO_ADDR2</span><span class="s2">"</span> &lt; <span class="s2">"</span><span class="nv">$TMPFILETG</span><span class="s2">"</span>
    
 <span class="nb">rm</span> <span class="s2">"</span><span class="nv">$TMPFILETG</span><span class="s2">"</span>
</pre></table></code></div></div></ol><h4 id="1813-å®‰è£…transmission"><span class="me-2">18.1.3 å®‰è£…transmission</span><a href="#1813-å®‰è£…transmission" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ol><li><p>å®‰è£…</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre> <span class="nb">sudo </span>add-apt-repository ppa:ubuntuhandbook1/transmission <span class="c">#æœ€æ–°ç‰ˆPPA</span>
    
 <span class="nb">sudo </span>apt-fast update
    
 <span class="nb">sudo </span>apt-fast <span class="nb">install </span>transmission
 <span class="nb">sudo </span>apt-fast <span class="nb">install </span>transmission-daemon
</pre></table></code></div></div><li><p>ä¿®æ”¹é…ç½®</p><p>ä¿®æ”¹ä¹‹å‰åœæ­¢<code class="language-plaintext highlighter-rouge">transmission-daemon</code>æœåŠ¡ï¼Œä¸ç„¶ä¼šå›æ»šï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> <span class="nb">sudo </span>service transmission-daemon stop
</pre></table></code></div></div><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> <span class="nb">sudo </span>nano /var/lib/transmission-daemon/info/settings.json
</pre></table></code></div></div><p>ä¿®æ”¹ï¼š</p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="w"> </span><span class="p">{</span><span class="w">
 		</span><span class="err">......</span><span class="w">
 		</span><span class="nl">"blocklist-enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="err">#é»‘åå•åˆ—è¡¨</span><span class="w">
     </span><span class="nl">"blocklist-url"</span><span class="p">:</span><span class="s2">"https://cors.isteed.cc/github.com/ttgapers/transmission-blocklist/releases/download/untagged-529f8302ad5115daf99a/blocklist.gz"</span><span class="w">
     </span><span class="err">......</span><span class="w">
     </span><span class="nl">"rpc-authentication-required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
     </span><span class="nl">"rpc-bind-address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0.0"</span><span class="p">,</span><span class="w"> 
     </span><span class="nl">"rpc-enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
     </span><span class="nl">"rpc-password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w"> 
     </span><span class="nl">"rpc-port"</span><span class="p">:</span><span class="w"> </span><span class="mi">9091</span><span class="p">,</span><span class="w"> 
     </span><span class="nl">"rpc-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/transmission/"</span><span class="p">,</span><span class="w"> 
     </span><span class="nl">"rpc-username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transmission"</span><span class="p">,</span><span class="w"> 
     </span><span class="nl">"rpc-whitelist"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w"> 
     </span><span class="nl">"rpc-whitelist-enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
     </span><span class="err">......</span><span class="w">
 		</span><span class="nl">"script-torrent-done-enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="nl">"script-torrent-done-filename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/btmail.sh"</span><span class="p">,</span><span class="err">#é‚®ä»¶é€šçŸ¥è„šæœ¬</span><span class="w">
     </span><span class="nl">"script-torrent-added-enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="nl">"script-torrent-added-filename"</span><span class="p">:</span><span class="s2">"/btadd.sh"</span><span class="p">,</span><span class="err">#æ·»åŠ ä»»åŠ¡åè¿è¡Œè„šæœ¬</span><span class="w">
     </span><span class="nl">"script-torrent-done-seeding-enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="nl">"script-torrent-done-seeding-filename"</span><span class="p">:</span><span class="s2">"/btseed.sh"</span><span class="p">,</span><span class="err">#ä»»åŠ¡å®Œæˆåé€šçŸ¥è„šæœ¬</span><span class="w">
 		</span><span class="err">......</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><li><p>æ›´æ”¹WEB-UI</p><p>ä»¥ä¸‹æ–¹æ³•å¼ƒç”¨ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre> wget https://gitee.com/culturist/transmission-web-control/raw/master/release/install-tr-control-gitee.sh
 <span class="nb">sudo </span>bash install-tr-control-gitee.sh
</pre></table></code></div></div><p>å¦‚æœè¿‡ç¨‹ä¸­æœ‰å¦‚ä¸‹é”™è¯¯ï¼š<code class="language-plaintext highlighter-rouge">cp: cannot stat '/tmp/tr-web-control/transmission-web-control/src/.': No such file or directory</code> åˆ™éœ€è¦è‡ªè¡Œåˆ›å»ºæ–‡ä»¶ã€‚</p><p>é¦–å…ˆå°†ç¬¬ä¸€æ­¥ä¸‹è½½çš„æ–‡ä»¶è§£å‹å¤åˆ¶åˆ°<code class="language-plaintext highlighter-rouge">/tmp/tr-web-control</code> è·¯å¾„ä¸‹ï¼Œç„¶åè¿è¡Œ<code class="language-plaintext highlighter-rouge">chmod -R 777 /tmp/tr-web-control/transmission-web-control/src/</code> ï¼Œæœ€åå†è¿è¡Œä¸Šè¿°è„šæœ¬ã€‚</p><p>æœ€åï¼Œå¼€å¯æœåŠ¡ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> <span class="nb">sudo </span>service transmission-daemon start
</pre></table></code></div></div><p><strong>æ–°æ–¹æ³•ï¼š</strong></p><aside> ğŸ’¡ ä¸Šè¿°è„šæœ¬å¯¹äºæœ€æ–°å®¢æˆ·ç«¯ä¸ç”Ÿæ•ˆï¼Œä¸€ç›´æç¤ºè¿æ¥å¤±è´¥ï¼Œå› ä¸ºæœ€æ–°çš„å®¢æˆ·ç«¯çš„ç½‘é¡µæ–‡ä»¶å¤¹åå­—æ”¹ä¸ºäº†`public_html` è€Œä¸æ˜¯`web` ã€‚</aside><p>ç›´æ¥ä¸‹è½½ä¸»é¢˜æ–‡ä»¶ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre> wget https://proxy.zyun.vip/https://github.com/ronggang/transmission-web-control/archive/refs/tags/v1.6.1-update1.zip
 unzip transmission-web-control-1.6.1-update1.zip <span class="c">#è§£å‹å‡ºæ¥ï¼Œç”¨å•¥å·¥å…·éƒ½è¡Œ</span>
 <span class="nb">cd </span>transmission-web-control-1.6.1-update1 <span class="c">#è¿›å…¥ç›®å½•</span>
    
 <span class="nb">sudo rm</span> /usr/share/transmission/public_html <span class="c">#åˆ é™¤æœ¬æ¥çš„publicæ–‡ä»¶å¤¹</span>
 <span class="nb">sudo cp</span> <span class="nt">-r</span> src /usr/share/transmission/public_html <span class="c">#å¤åˆ¶ </span>
</pre></table></code></div></div></ol><h4 id="1825-å®‰è£…qbittorrent"><span class="me-2">18.2.5 å®‰è£…qBittorrent</span><a href="#1825-å®‰è£…qbittorrent" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ol><li><p>å®‰è£…add-apt-repositoryå‘½ä»¤(éå¿…éœ€)</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> <span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>software-properties-common <span class="nt">-y</span>
</pre></table></code></div></div><li><p>æ·»åŠ qbittorrent-noxçš„PPAè½¯ä»¶æº</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre> <span class="c"># qBittorrent ç¨³å®šç‰ˆ</span>
 <span class="nb">sudo </span>add-apt-repository ppa:qbittorrent-team/qbittorrent-stable
    
 <span class="c"># qBittorrent æµ‹è¯•ç‰ˆ</span>
 <span class="nb">sudo </span>add-apt-repository ppa:qbittorrent-team/qbittorrent-unstable
</pre></table></code></div></div><li><p>å®‰è£…qbittorrent-nox</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> <span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>qbittorrent-nox <span class="nt">-y</span>
</pre></table></code></div></div><li><p>è®¾ç½®å¼€æœºå¯åŠ¨</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> <span class="nb">sudo </span>apt-get <span class="nb">install </span>vim <span class="nt">-y</span> <span class="o">&amp;&amp;</span> vim /etc/systemd/system/qbittorrent-nox.service
</pre></table></code></div></div><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre> <span class="pi">[</span><span class="nv">Unit</span><span class="pi">]</span>
    
 <span class="s">Description=qBittorrent-nox</span>
    
 <span class="s">After=network.target</span>
    
 <span class="s">[Service]</span>
    
 <span class="s">User=root</span>
    
 <span class="s">Type=forking</span>
    
 <span class="s">RemainAfterExit=yes</span>
    
 <span class="s">ExecStart=/usr/bin/qbittorrent-nox -d</span>
    
 <span class="s">[Install]</span>
    
 <span class="s">WantedBy=multi-user.target</span>
</pre></table></code></div></div><p>ä¿®æ”¹qbittorrent-nox.serviceæ–‡ä»¶åé‡æ–°è½½å…¥</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> <span class="s">sudo systemctl daemon-reload</span>
</pre></table></code></div></div><p>å¯åŠ¨å’Œåœæ­¢</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre> <span class="s">sudo systemctl start qbittorrent-nox</span>
 <span class="s">sudo systemctl stop qbittorrent-nox</span>
</pre></table></code></div></div><p>å¼€æœºè‡ªå¯</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> <span class="s">sudo systemctl enable qbittorrent-nox</span>
</pre></table></code></div></div><li><p>éªŒè¯</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre> <span class="s">é»˜è®¤è´¦å·ï¼šadmin å¯†ç ï¼šadminadmin</span>
    
 <span class="s">é»˜è®¤ç™»é™†ç½‘å€ï¼šhttp://ip:8080</span>
</pre></table></code></div></div><li><p>ipå›½å®¶ä¸æ˜¾ç¤ºé—®é¢˜çš„è§£å†³</p><p>ä¸‹è½½æ–‡ä»¶ï¼š</p><p><a href="https://pan.rainsin.cn/s/s84u65">dbip-country-lite.mmdb</a></p><p>å…ˆè¿›å…¥rootç”¨æˆ·ï¼š</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> <span class="s">su</span>
</pre></table></code></div></div><p>å°†æ–‡ä»¶å¤åˆ¶åˆ°qbittorrentç›®å½•ï¼ˆä¸‹é¢çš„ç›®æ ‡è·¯å¾„æ˜¯ç”¨<code class="language-plaintext highlighter-rouge">sudo apt</code>å®‰è£…qbæ—¶æ‰€ç”¨è·¯å¾„ï¼Œå…¶ä»–çš„è‡ªè¡Œå¯»æ‰¾ï¼‰ï¼š</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> <span class="s">cp ä½ çš„dbip-county-lite.mmdbè·¯å¾„ /root/.local/share/qBittorrent/dbip-county-lite.mmdb</span>
</pre></table></code></div></div><p>é‡å¯æœåŠ¡å³å¯ã€‚</p><p><a href="https://photo.rainsin.cn:2000/LightPicture/2023/06/008fdd809cd52644.png" class="popup img-link "><img data-src="https://photo.rainsin.cn:2000/LightPicture/2023/06/008fdd809cd52644.png" alt="Snipaste_2023-03-14_14-27-48.png" class="lazyload" data-proofer-ignore></a></p></ol><p>æœ€ååå‘ä»£ç†ï¼Œå®Œæˆã€‚</p><h2 id="19-è®¾ç½®clashä»£ç†"><span class="me-2">19 è®¾ç½®clashä»£ç†</span><a href="#19-è®¾ç½®clashä»£ç†" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="clash-ä¸‹è½½"><span class="me-2">Clash ä¸‹è½½</span><a href="#clash-ä¸‹è½½" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>åœ¨ Clash <a href="https://github.com/Dreamacro/clash/releases">release</a> é¡µé¢ä¸‹è½½ç›¸åº”çš„ç‰ˆæœ¬ï¼Œå¯¹äº Ubuntu ä¸€èˆ¬ä½¿ç”¨ <a href="https://github.com/Dreamacro/clash/releases/download/v1.9.0/clash-linux-amd64-v1.9.0.gz">clash-linux-amd64-vX.X.X.gz</a> ç‰ˆæœ¬ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>wget https://github.com/Dreamacro/clash/releases/download/v1.10.0/clash-linux-arm64-v1.10.0.gz
</pre></table></code></div></div><blockquote><p>å¦‚æœç›´æ¥ wget é€Ÿåº¦è¾ƒæ…¢çš„è¯ï¼Œå¯ä»¥æœ¬åœ°ä¸‹è½½å®Œæˆåï¼Œä½¿ç”¨ SFTP ä¸Šä¼ åˆ° Linux æœåŠ¡å™¨ã€‚</p></blockquote><p>ç„¶åä½¿ç”¨ <code class="language-plaintext highlighter-rouge">gunzip</code> å‘½ä»¤è§£å‹ï¼Œå¹¶é‡å‘½åä¸º <code class="language-plaintext highlighter-rouge">clash</code>ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">gunzip </span>clash-linux-amd64-v1.10.0.gz
<span class="nb">mv </span>clash-linux-amd64-v1.10.0 clash
</pre></table></code></div></div><p>ä¸º clash æ·»åŠ å¯æ‰§è¡Œæƒé™ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">chmod </span>u+x clash
</pre></table></code></div></div><p>Clash è¿è¡Œæ—¶éœ€è¦ <code class="language-plaintext highlighter-rouge">Country.mmdb</code> æ–‡ä»¶ï¼Œå½“ç¬¬ä¸€æ¬¡å¯åŠ¨ Clash æ—¶ï¼ˆä½¿ç”¨ <code class="language-plaintext highlighter-rouge">./clash</code> å‘½ä»¤ï¼‰ ä¼šè‡ªåŠ¨ä¸‹è½½ï¼ˆä¼šä¸‹è½½è‡³ <code class="language-plaintext highlighter-rouge">/home/XXX/.config/clash</code> æ–‡ä»¶å¤¹ä¸‹ï¼‰ã€‚è‡ªåŠ¨ä¸‹è½½å¯èƒ½ä¼šå› ç½‘ç»œåŸå› è¾ƒæ…¢ï¼Œå¯ä»¥è®¿é—®è¯¥<a href="https://github.com/Dreamacro/maxmind-geoip/releases">é“¾æ¥</a>æ‰‹åŠ¨ä¸‹è½½ã€‚</p><blockquote><p>Country.mmdb æ–‡ä»¶åˆ©ç”¨ GeoIP2 æœåŠ¡èƒ½è¯†åˆ«äº’è”ç½‘ç”¨æˆ·çš„åœ°ç‚¹ä½ç½®ï¼Œä»¥ä¾›è§„åˆ™åˆ†æµæ—¶ä½¿ç”¨ã€‚</p></blockquote><h3 id="é…ç½®æ–‡ä»¶"><span class="me-2">é…ç½®æ–‡ä»¶</span><a href="#é…ç½®æ–‡ä»¶" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>ä¸€èˆ¬çš„ç½‘ç»œæœåŠ¡æä¾›äº† Clash è®¢é˜…é“¾æ¥ï¼Œå¯ä»¥ç›´æ¥ä¸‹è½½é“¾æ¥æŒ‡å‘çš„æ–‡ä»¶å†…å®¹ï¼Œä¿å­˜åˆ° <code class="language-plaintext highlighter-rouge">config.yaml</code> ä¸­ã€‚æˆ–è€…ä½¿ç”¨è®¢é˜…è½¬æ¢æœåŠ¡ï¼ˆå¦‚è¯¥<a href="https://converter.niallapi.top/">é“¾æ¥</a>ã€‚ä¹Ÿå¯ä»¥è‡ªè¡Œæ­å»ºï¼Œå¯å‚è€ƒ<a href="https://codeswift.top/posts/docker-subscription-converter/">è¯¥æ–‡ç« </a>ï¼‰ï¼Œå°†å…¶å®ƒè®¢é˜…è½¬æ¢ä¸º Clash è®¢é˜…ã€‚</p><p>è¿™é‡Œæ¨èä½¿ç”¨è®¢é˜…è½¬æ¢æœåŠ¡ï¼Œè½¬æ¢åçš„é…ç½®æ–‡ä»¶å·²æ·»åŠ æ›´ä¸ºå¼ºå¤§çš„åˆ†æµè§„åˆ™ã€‚å°±å¯ä»¥å°† Clash ä¸€ç›´ä¿æŒåå°è¿è¡Œï¼Œè‡ªåŠ¨åˆ†æµï¼Œä¸”ä¼šè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜èŠ‚ç‚¹ã€‚</p><blockquote><p>Clash é…ç½®æ–‡ä»¶çš„å®Œæ•´å‚æ•°ä»‹ç»è§å®˜æ–¹æ–‡æ¡£ã€‚</p></blockquote><blockquote><p>å¦‚æœä½¿ç”¨è®¢é˜…è½¬æ¢æœåŠ¡ï¼Œå¯¹äºè½¬æ¢åçš„è®¢é˜…é“¾æ¥ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥ä¸‹è½½é…ç½®æ–‡ä»¶ï¼š</p></blockquote><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>curl <span class="nt">-o</span> config.yaml <span class="s1">'longURL'</span>
</pre></table></code></div></div><p>å¯¹äº <code class="language-plaintext highlighter-rouge">suo.yt</code> çŸ­é“¾æ¥ï¼Œéœ€è¦é‡å®šå‘ï¼Œå› æ­¤ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥ä¸‹è½½é…ç½®æ–‡ä»¶ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>curl <span class="nt">-L</span> <span class="nt">-o</span> config.yaml <span class="s1">'shortURL'</span>
</pre></table></code></div></div><h3 id="clash-as-a-daemon"><span class="me-2">Clash as a daemon</span><a href="#clash-as-a-daemon" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>å°† Clash è½¬å˜ä¸ºç³»ç»ŸæœåŠ¡ï¼Œä»è€Œä½¿å¾— Clash å®ç°å¸¸é©»åå°è¿è¡Œã€å¼€æœºè‡ªå¯åŠ¨ç­‰ã€‚</p><blockquote><p>æ™®é€šç”¨æˆ·éœ€è¦ sudo æƒé™ã€‚</p></blockquote><h4 id="é…ç½®-systemd-æœåŠ¡"><span class="me-2">é…ç½® systemd æœåŠ¡</span><a href="#é…ç½®-systemd-æœåŠ¡" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Linux ç³»ç»Ÿä½¿ç”¨ systemd ä½œä¸ºå¯åŠ¨æœåŠ¡å™¨ç®¡ç†æœºåˆ¶ï¼Œé¦–å…ˆæŠŠ Clash å¯æ‰§è¡Œæ–‡ä»¶æ‹·è´åˆ° <code class="language-plaintext highlighter-rouge">/usr/local/bin</code> ç›®å½•ï¼Œç›¸å…³é…ç½®æ‹·è´åˆ° <code class="language-plaintext highlighter-rouge">/etc/clash</code> ç›®å½•ã€‚</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nb">sudo mkdir</span> /etc/clash
<span class="nb">sudo cp </span>clash /usr/local/bin
<span class="nb">sudo cp </span>config.yaml /etc/clash/
<span class="nb">sudo cp </span>Country.mmdb /etc/clash/
</pre></table></code></div></div><p>åˆ›å»º systemd æœåŠ¡é…ç½®æ–‡ä»¶ <code class="language-plaintext highlighter-rouge">sudo vim /etc/systemd/system/clash.service</code>ï¼š</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="pi">[</span><span class="nv">Unit</span><span class="pi">]</span>
<span class="s">Description=Clash daemon, A rule-based proxy in Go.</span>
<span class="s">After=network.target</span>

<span class="pi">[</span><span class="nv">Service</span><span class="pi">]</span>
<span class="s">Type=simple</span>
<span class="s">Restart=always</span>
<span class="s">ExecStart=/usr/local/bin/clash -d /etc/clash</span>

<span class="pi">[</span><span class="nv">Install</span><span class="pi">]</span>
<span class="s">WantedBy=multi-user.target</span>
</pre></table></code></div></div><h4 id="ä½¿ç”¨-systemctl"><span class="me-2">ä½¿ç”¨ systemctl</span><a href="#ä½¿ç”¨-systemctl" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>systemctl daemon-reload
</pre></table></code></div></div><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œè®© Clash å¼€æœºè‡ªå¯åŠ¨ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>systemctl <span class="nb">enable </span>clash
</pre></table></code></div></div><p>ç„¶åå¼€å¯ Clashï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>systemctl start clash
</pre></table></code></div></div><p>æŸ¥çœ‹ Clash æ—¥å¿—ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>systemctl status clash
<span class="nb">sudo </span>journalctl <span class="nt">-xe</span>
</pre></table></code></div></div><h3 id="ä½¿ç”¨ä»£ç†"><span class="me-2">ä½¿ç”¨ä»£ç†</span><a href="#ä½¿ç”¨ä»£ç†" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="åˆ©ç”¨-export-å‘½ä»¤ä½¿ç”¨ä»£ç†"><span class="me-2">åˆ©ç”¨ <code class="language-plaintext highlighter-rouge">Export</code> å‘½ä»¤ä½¿ç”¨ä»£ç†</span><a href="#åˆ©ç”¨-export-å‘½ä»¤ä½¿ç”¨ä»£ç†" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Clash è¿è¡Œåï¼Œå…¶åœ¨åå°ç›‘å¬æŸä¸€ç«¯å£ã€‚Ubuntu ä¸‹ä½¿ç”¨ä»£ç†ï¼Œéœ€è¦ <code class="language-plaintext highlighter-rouge">export</code> å‘½ä»¤ã€‚æ ¹æ® config é…ç½®æ–‡å¯ä»¥æŸ¥çœ‹åˆ°ä»¶Clash ä»£ç†ç«¯å£ï¼ˆè®¢é˜…è½¬æ¢åï¼Œç«¯å£ä¸º7890ï¼‰ï¼Œè®¾ç½®ç³»ç»Ÿä»£ç†å‘½ä»¤ä¸ºï¼š</p><p>å¯ä»¥å°†è¯¥å‘½ä»¤æ·»åŠ åˆ° <code class="language-plaintext highlighter-rouge">.bashrc</code> ä¸­ï¼Œç™»é™†åè¯¥ç”¨æˆ·è‡ªåŠ¨å¼€å¯ä»£ç†ã€‚</p><p>å–æ¶ˆç³»ç»Ÿä»£ç†ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">unset  </span>http_proxy  https_proxy  all_proxy
</pre></table></code></div></div><blockquote><p>ä¸€èˆ¬ä¸‹è½½æ•°æ®é›†æ—¶ï¼Œè®°å¾—å–æ¶ˆä»£ç†ã€‚</p></blockquote><h4 id="dashboard-å¤–éƒ¨æ§åˆ¶"><span class="me-2">DashBoard å¤–éƒ¨æ§åˆ¶</span><a href="#dashboard-å¤–éƒ¨æ§åˆ¶" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>å¤–éƒ¨æ§åˆ¶ç«¯å£ä¸º 9090ï¼Œå› æ­¤ä¹Ÿå¯ä»¥è®¿é—®è¯¥<a href="http://clash.razord.top/">é“¾æ¥</a>ï¼Œè¾“å…¥ IP åœ°å€ï¼ˆéœ€æœ¬æœºå¯ä»¥è®¿é—®çš„ IPï¼‰ä»¥åŠç«¯å£å· 9090ï¼Œæ¥è¿›å…¥ Clash Dashboard è¿›è¡ŒèŠ‚ç‚¹çš„é€‰æ‹©ã€‚ä¹Ÿå¯ä»¥åœ¨æœåŠ¡å™¨è‡ªè¡Œæ­å»º Clash Dashboardï¼Œè¯·å‚è§<a href="https://github.com/Dreamacro/clash-dashboard">è¯¥é¡¹ç›®</a>ã€‚ä¸è¿‡ Clash Dashboard ç”¨å¤„ä¸å¤§ï¼Œä½¿ç”¨<strong>è®¢é˜…è½¬æ¢</strong>åçš„é…ç½®æ–‡ä»¶åŒ…å«äº†è‡ªåŠ¨é€‰æ‹©çš„åŠŸèƒ½ï¼ŒClash ä¼šè‡ªåŠ¨é€‰æ‹©å»¶è¿Ÿæœ€ä½çš„èŠ‚ç‚¹ã€‚</p><h4 id="è®¾ç½®å¯†ç "><span class="me-2">è®¾ç½®å¯†ç </span><a href="#è®¾ç½®å¯†ç " class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><code class="language-plaintext highlighter-rouge">export</code> å‘½ä»¤å…¶ä»–ç”¨æˆ·æ‰§è¡Œåä¹Ÿå¯ä»¥ä½¿ç”¨è¯¥ä»£ç†ï¼Œæ­¤æ—¶é€šè¿‡å¯ä»¥æ›´æ¢ä»£ç†ç«¯å£ã€æ·»åŠ å¯†ç ç­‰æªæ–½åŠ ä»¥é™åˆ¶ã€‚ä¿®æ”¹ <code class="language-plaintext highlighter-rouge">/etc/clash/config.yaml</code> æ–‡ä»¶éƒ¨åˆ†é…ç½®ï¼š</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="na">mixed-port</span><span class="pi">:</span> <span class="m">12345</span>
<span class="na">authentication</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">ç”¨æˆ·å1:å¯†ç 1"</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">ç”¨æˆ·å2:å¯†ç 2"</span>
<span class="na">allow-lan</span><span class="pi">:</span> <span class="kc">true</span>
<span class="na">mode</span><span class="pi">:</span> <span class="s">Rule</span>
<span class="na">log-level</span><span class="pi">:</span> <span class="s">info</span>
<span class="na">external-controller</span><span class="pi">:</span> <span class="s">:9090</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">mixed-port: 12345</code> å°±æ˜¯æ··åˆä»£ç†ç«¯å£ï¼Œå³ä½¿ç”¨ä»£ç†æ—¶æ‰€æŒ‡å®šçš„ç«¯å£ã€‚ç„¶åéœ€è¦é‡å¯ Clashï¼Œå‘½ä»¤ä¸ºï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>systemctl restart clash
</pre></table></code></div></div><p>æ ¹æ®ä¸Šè¿°é…ç½®æ–‡ä»¶ï¼Œ<code class="language-plaintext highlighter-rouge">export</code> å‘½ä»¤å˜ä¸º</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">export </span><span class="nv">https_proxy</span><span class="o">=</span>http://ç”¨æˆ·å1:å¯†ç 1@127.0.0.1:12345 <span class="nv">http_proxy</span><span class="o">=</span>http://ç”¨æˆ·å1:å¯†ç 1@127.0.0.1:12345 <span class="nv">all_proxy</span><span class="o">=</span>socks5://ç”¨æˆ·å1:å¯†ç 1@127.0.0.1:12345
</pre></table></code></div></div><h3 id="tun-æ¨¡å¼"><span class="me-2">TUN æ¨¡å¼</span><a href="#tun-æ¨¡å¼" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>æ–°ç‰ˆçš„ Clash Premium å†…æ ¸æ”¯æŒ TUN æ¨¡å¼ï¼Œä¸”ç›®å‰å·²æ”¯æŒ Linux ç³»ç»Ÿä¸‹çš„ <code class="language-plaintext highlighter-rouge">auto-route</code> å’Œ <code class="language-plaintext highlighter-rouge">auto-detect-interface</code>ï¼Œæ— éœ€æ‰‹åŠ¨è®¾ç½®è½¬å‘è¡¨ï¼Œå¯ä»¥æ–¹ä¾¿å¿«æ·çš„å®ç° <strong>é€æ˜ç½‘å…³ï¼ˆæ—è·¯ç”±ï¼‰</strong> çš„åŠŸèƒ½ã€‚</p><p>é¦–å…ˆéœ€è¦ä¸‹è½½ <a href="https://github.com/Dreamacro/clash/releases/tag/premium">Clash Premium</a> ç‰ˆæœ¬ï¼Œæ›¿æ¢ä¸Šé¢çš„ <code class="language-plaintext highlighter-rouge">clash</code> æ–‡ä»¶ã€‚æ¥ç€éœ€è¦è®¾ç½® Linux ç³»ç»Ÿï¼Œå¼€å¯è½¬å‘åŠŸèƒ½ã€‚ç¼–è¾‘æ–‡ä»¶ <code class="language-plaintext highlighter-rouge">/etc/sysctl.conf</code>ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>net.ipv4.ip_forward<span class="o">=</span>1
</pre></table></code></div></div><p>ä¿å­˜é€€å‡ºåï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä½¿ä¿®æ”¹ç”Ÿæ•ˆï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>sysctl <span class="nt">-p</span>
</pre></table></code></div></div><p>ç„¶åæ¥ç€éœ€è¦å…³é—­ç³»ç»Ÿçš„ DNS æœåŠ¡ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>systemctl stop systemd-resolved
<span class="nb">sudo </span>systemctl disable systemd-resolved
</pre></table></code></div></div><blockquote><p>å…³äºä»£ç†ç¯å¢ƒä¸‹ DNS è§£æè¡Œä¸ºçš„æ·±å…¥æ¢è®¨ï¼Œå¯ä»¥å‚è§æµ…è°ˆåœ¨ä»£ç†ç¯å¢ƒä¸­çš„ DNS è§£æè¡Œä¸ºä»¥åŠæˆ‘æœ‰ç‰¹åˆ«çš„ DNS é…ç½®å’Œä½¿ç”¨æŠ€å·§ã€‚</p></blockquote><p>æ¥ç€éœ€è¦è®¾ç½® Clash çš„é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre>dns:
  enable: true
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip
  nameserver:
    - 114.114.114.114
  fallback:
    - 8.8.8.8
tun:
  enable: true
  stack: system # or gvisor
  dns-hijack:
    - 8.8.8.8:53
    - tcp://8.8.8.8:53
    - any:53
    - tcp://any:53
  auto-route: true # auto set global route
  auto-detect-interface: true # conflict with interface-nam
</pre></table></code></div></div><p>æœ€åé‡å¯ Clash æœåŠ¡å³å¯ï¼Œè¿™æ ·æµé‡å°±ä¼šé€šè¿‡ TUN æ¥å£è½¬å‘ï¼ŒåŒæ—¶åˆ©ç”¨å¼ºå¤§çš„åˆ†æµè§„åˆ™ï¼Œå®ç°æŒ‰éœ€ä»£ç†ã€‚ä¹Ÿå¯ä»¥è®¾ç½®å±€åŸŸç½‘å†…çš„ç½‘å…³åœ°å€å’Œ DNS æœåŠ¡å™¨åœ°å€ï¼Œå®ç°é€æ˜ç½‘å…³ã€‚</p><h2 id="20-æœåŠ¡å™¨çŠ¶æ€ç›‘æ§"><span class="me-2">20 æœåŠ¡å™¨çŠ¶æ€ç›‘æ§</span><a href="#20-æœåŠ¡å™¨çŠ¶æ€ç›‘æ§" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker run <span class="nt">--restart</span> unless-stopped <span class="nt">-it</span> <span class="nt">-d</span> <span class="nt">--name</span> ward <span class="nt">-p</span> 4000:4000 <span class="nt">-e</span> <span class="nv">WARD_PORT</span><span class="o">=</span>4000 <span class="nt">-e</span> <span class="nv">WARD_THEME</span><span class="o">=</span>dark <span class="nt">--privileged</span> antonyleons/ward
</pre></table></code></div></div><h2 id="21-giteaå®‰è£…"><span class="me-2">21 Giteaå®‰è£…</span><a href="#21-giteaå®‰è£…" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>æ–‡ä»¶ï¼š<code class="language-plaintext highlighter-rouge">docker-compose.yml</code></p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="å·²å¤åˆ¶ï¼"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre><td class="rouge-code"><pre><span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">3"</span>

<span class="na">networks</span><span class="pi">:</span>
  <span class="na">gitea</span><span class="pi">:</span>
    <span class="na">external</span><span class="pi">:</span> <span class="kc">false</span>

<span class="na">services</span><span class="pi">:</span>
  <span class="na">server</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">gitea/gitea:1.19.0</span>
    <span class="na">container_name</span><span class="pi">:</span> <span class="s">gitea</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">USER_UID=1000</span>
      <span class="pi">-</span> <span class="s">USER_GID=1000</span>
      <span class="pi">-</span> <span class="s">GITEA__database__DB_TYPE=mysql</span>
      <span class="pi">-</span> <span class="s">GITEA__database__HOST=db:3306</span>
      <span class="pi">-</span> <span class="s">GITEA__database__NAME=gitea</span>
      <span class="pi">-</span> <span class="s">GITEA__database__USER=gitea</span>
      <span class="pi">-</span> <span class="s">GITEA__database__PASSWD=gitea</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>
    <span class="na">networks</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">gitea</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="pi">{</span><span class="nv">you_path</span><span class="pi">}</span><span class="s">/gitea:/data</span>
      <span class="pi">-</span> <span class="pi">{</span><span class="nv">you_path</span><span class="pi">}</span><span class="s">/gitea/timezone:/etc/timezone:ro</span>
      <span class="pi">-</span> <span class="pi">{</span><span class="nv">you_path</span><span class="pi">}</span><span class="s">/gitea/localtime:/etc/localtime:ro</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">3000:3000"</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">222:22"</span>
    <span class="na">depends_on</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">db</span>

  <span class="na">db</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">mysql:8</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">MYSQL_ROOT_PASSWORD=gitea</span>
      <span class="pi">-</span> <span class="s">MYSQL_USER=gitea</span>
      <span class="pi">-</span> <span class="s">MYSQL_PASSWORD=gitea</span>
      <span class="pi">-</span> <span class="s">MYSQL_DATABASE=gitea</span>
    <span class="na">networks</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">gitea</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">/home/ubuntu/pdata/gitea/mysql:/var/lib/mysql</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href='/categories/server/'>Server</a>, <a href='/categories/%E9%9F%B3%E8%A7%86%E9%A2%91/'>éŸ³è§†é¢‘</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" class="post-tag no-text-decoration" >æ ‘è“æ´¾</a> <a href="/tags/%E6%B5%81%E7%A8%8B/" class="post-tag no-text-decoration" >æµç¨‹</a> <a href="/tags/ubuntu/" class="post-tag no-text-decoration" >ubuntu</a> <a href="/tags/emby/" class="post-tag no-text-decoration" >Emby</a> <a href="/tags/gitea/" class="post-tag no-text-decoration" >Gitea</a> <a href="/tags/apache/" class="post-tag no-text-decoration" >Apache</a> <a href="/tags/docker/" class="post-tag no-text-decoration" >Docker</a> <a href="/tags/bt/" class="post-tag no-text-decoration" >Bt</a> <a href="/tags/bot/" class="post-tag no-text-decoration" >Bot</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> æœ¬æ–‡ç”±ä½œè€…æŒ‰ç…§ <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> è¿›è¡Œæˆæƒ</div><div class="share-wrapper"> <span class="share-label text-muted me-1">åˆ†äº«</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%E3%80%8C%E6%95%99%E7%A8%8B%E3%80%8D%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%BD%B1%E8%A7%86%E5%BA%93%E5%92%8C%E5%90%84%E7%A7%8D%E6%9C%8D%E5%8A%A1%20-%20Rainsin%20%E2%80%A2%20Blog%EF%BD%9C%E4%B8%80%E4%B8%AA%E7%B2%97%E7%B3%99%E7%9A%84%E5%B0%8F%E5%8D%9A%E5%AE%A2%EF%BC%8C%E5%88%86%E4%BA%AB%E4%B9%90%E8%B6%A3%E3%80%82&url=https%3A%2F%2Fblog.rainsin.cn%2Fposts%2Fserver-config%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter" > <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%E3%80%8C%E6%95%99%E7%A8%8B%E3%80%8D%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%BD%B1%E8%A7%86%E5%BA%93%E5%92%8C%E5%90%84%E7%A7%8D%E6%9C%8D%E5%8A%A1%20-%20Rainsin%20%E2%80%A2%20Blog%EF%BD%9C%E4%B8%80%E4%B8%AA%E7%B2%97%E7%B3%99%E7%9A%84%E5%B0%8F%E5%8D%9A%E5%AE%A2%EF%BC%8C%E5%88%86%E4%BA%AB%E4%B9%90%E8%B6%A3%E3%80%82&u=https%3A%2F%2Fblog.rainsin.cn%2Fposts%2Fserver-config%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook" > <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fblog.rainsin.cn%2Fposts%2Fserver-config%2F&text=%E3%80%8C%E6%95%99%E7%A8%8B%E3%80%8D%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%BD%B1%E8%A7%86%E5%BA%93%E5%92%8C%E5%90%84%E7%A7%8D%E6%9C%8D%E5%8A%A1%20-%20Rainsin%20%E2%80%A2%20Blog%EF%BD%9C%E4%B8%80%E4%B8%AA%E7%B2%97%E7%B3%99%E7%9A%84%E5%B0%8F%E5%8D%9A%E5%AE%A2%EF%BC%8C%E5%88%86%E4%BA%AB%E4%B9%90%E8%B6%A3%E3%80%82" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram" > <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-bs-toggle="tooltip" data-bs-placement="top" title="åˆ†äº«é“¾æ¥" data-title-succeed="é“¾æ¥å·²å¤åˆ¶ï¼" > </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">æœ€è¿‘æ›´æ–°</div><ul class="post-content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/marx7/">ã€Œé€å­—ç¨¿ã€ã€Šè´¹å°”å·´å“ˆè®ºã€‹å…«ã€é©¬å…‹æ€å…³äºäººçš„æœ¬è´¨çš„å®šä¹‰</a><li class="text-truncate lh-lg"> <a href="/posts/marx8/">ã€Œé€å­—ç¨¿ã€ã€Šè´¹å°”å·´å“ˆè®ºã€‹ä¹ã€è¿‘ä»£ä¸ªäººä¸»ä¹‰åŸç†çš„æ¥å†</a><li class="text-truncate lh-lg"> <a href="/posts/marx9/">ã€Œé€å­—ç¨¿ã€ã€Šè´¹å°”å·´å“ˆè®ºã€‹åã€é©¬å…‹æ€çš„å†å²ç§‘å­¦è®º</a><li class="text-truncate lh-lg"> <a href="/posts/marx10/">ã€Œé€å­—ç¨¿ã€ã€Šè´¹å°”å·´å“ˆè®ºã€‹åä¸€ã€è¿‘ä»£å”¯ç‰©ä¸»ä¹‰çš„æ—¶ä»£æ ¹æº</a><li class="text-truncate lh-lg"> <a href="/posts/theme/">ã€Œç¬”è®°ã€å¿ƒç»çš„ä¸»é¢˜ï¼šç ´æˆ‘æ‰§</a></ul></div><div id="access-tags"><div class="panel-heading">çƒ­é—¨æ ‡ç­¾</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/%E5%93%B2%E5%AD%A6/">å“²å­¦</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E5%86%99%E7%9C%9F/">å†™çœŸ</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E8%A7%A3%E5%86%B3%E9%97%AE%E9%A2%98/">è§£å†³é—®é¢˜</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%BE%BD%E6%AF%9B%E7%90%83/">ç¾½æ¯›çƒ</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/">é»‘è‹¹æœ</a> <a class="post-tag btn btn-outline-primary" href="/tags/efi/">EFI</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E5%81%A5%E5%BA%B7/">å¥åº·</a> <a class="post-tag btn btn-outline-primary" href="/tags/apache/">Apache</a> <a class="post-tag btn btn-outline-primary" href="/tags/bot/">Bot</a> <a class="post-tag btn btn-outline-primary" href="/tags/bt/">Bt</a></div></div></div><div id="toc-wrapper" class="ps-0 pe-4 mb-5"><div class="panel-heading ps-3 pt-2 mb-2">æ–‡ç« å†…å®¹</div><nav id="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5"><div class="post-navigation d-flex justify-content-between"><div class="btn btn-outline-primary disabled" prompt="ä¸Šä¸€ç¯‡" ><p>-</p></div><a href="/posts/ax200-bluetooth/" class="btn btn-outline-primary" prompt="ä¸‹ä¸€ç¯‡" ><p>ã€Œè§£å†³é—®é¢˜ã€é»‘è‹¹æœVenture 13.4 Intelæ— çº¿ç½‘å¡(AX200,AX201,AX210,AX203)è“ç‰™é—®é¢˜æ’æŸ¥</p></a></div><div id="tcomment" class="no-show-comment"></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">çƒ­é—¨æ ‡ç­¾</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/%E5%93%B2%E5%AD%A6/">å“²å­¦</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E5%86%99%E7%9C%9F/">å†™çœŸ</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E8%A7%A3%E5%86%B3%E9%97%AE%E9%A2%98/">è§£å†³é—®é¢˜</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%BE%BD%E6%AF%9B%E7%90%83/">ç¾½æ¯›çƒ</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/">é»‘è‹¹æœ</a> <a class="post-tag btn btn-outline-primary" href="/tags/efi/">EFI</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E5%81%A5%E5%BA%B7/">å¥åº·</a> <a class="post-tag btn btn-outline-primary" href="/tags/apache/">Apache</a> <a class="post-tag btn btn-outline-primary" href="/tags/bot/">Bot</a> <a class="post-tag btn btn-outline-primary" href="/tags/bt/">Bt</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div></div><footer><div class="container px-lg-4"><div class="d-flex justify-content-center align-items-center text-muted mx-md-3" ><p>æœ¬ç«™é‡‡ç”¨ Jekyll ï¼Œä¸»é¢˜ Chirpy ï¼Œä½¿ç”¨ GitHub Pageséƒ¨ç½²ã€‚</p><p>Â© 2025 <a href="https://twitter.com/2000_python">RAINSIN</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="é™¤éå¦æœ‰è¯´æ˜ï¼Œæœ¬ç½‘ç«™ä¸Šçš„åšå®¢æ–‡ç« å‡ç”±ä½œè€…æŒ‰ç…§çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™… (CC BY 4.0) è®¸å¯åè®®è¿›è¡Œæˆæƒã€‚" >ä¿ç•™éƒ¨åˆ†æƒåˆ©ã€‚</span></p></div><style> .font-links-a:hover{ border-bottom: none; }</style><div class="justify-content-center align-items-center text-muted mx-md-3" style="display: flex; padding: 0 0 9px 0;flex-wrap: wrap;"> å‹æƒ…é“¾æ¥ï¼š&nbsp;&nbsp; <a class="font-links-a" href="https://sweetjing.cc/" target="_blank" title="ä¿æŒçƒ­çˆ±ï¼Œå¥”èµ´å±±æµ·ã€‚">åŠæˆªã®è¯—</a>ï¼Œ <a class="font-links-a" href="https://www.foreverblog.cn/go.html" target="_blank" title="ç©¿æ¢­è™«æ´-éšæœºè®¿é—®åå¹´ä¹‹çº¦å‹é“¾åšå®¢">è™«æ´</a>ï¼Œ <a class="font-links-a" href="https://www.travellings.cn/go-by-clouds.html" target="_blank" title="å¼€å¾€-å‹é“¾æ¥åŠ›">å¼€å¾€</a>ï¼Œ <a class="font-links-a" href="https://www.foreverblog.cn/" target="_blank" title="ä¸€ä¸ªäººçš„å¯‚å¯ï¼Œä¸€ç¾¤äººçš„ç‹‚æ¬¢ã€‚">åå¹´ä¹‹çº¦</a>ï¼Œ <a class="font-links-a" href="https://blogwe.com" target="_blank">[ğŸ BlogWe]</a>ï¼Œ <a class="font-links-a" href="https://storeweb.cn/" target="_blank" title="ä¸ªç«™å•†åº—">ä¸ªç«™å•†åº—</a> ã€‚</div><div class="justify-content-center align-items-center text-muted mx-md-3" style="display: flex; padding: 0 0 20px 0;flex-wrap: wrap;"> <i class="fa fa-cog fa-spin fa-1x fa-fw"></i> <span>æœ¬ç«™å·²è¿è¡Œ <span id="days" style="font-weight:800; color:#1ba784"> </span> </span></div></div></footer><script language=javascript> function siteTime(){ window.setTimeout("siteTime()", 1000); var seconds = 1000; var minutes = seconds * 60; var hours = minutes * 60; var days = hours * 24; var years = days * 365; var today = new Date(); var todayYear = today.getFullYear(); var todayMonth = today.getMonth()+1; var todayDate = today.getDate(); var todayHour = today.getHours(); var todayMinute = today.getMinutes(); var todaySecond = today.getSeconds(); var t1 = Date.UTC(2023,06,01,00,00,00); var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond); var diff = t2-t1; var diffYears = Math.floor(diff/years); var diffDays = Math.floor((diff/days)-diffYears*365); var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours); var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes); var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds); document.getElementById("days").innerHTML=+diffYears+"å¹´"+diffDays+"å¤©"+diffHours+"æ—¶"+diffMinutes+"åˆ†é’Ÿ"+diffSeconds+"ç§’"; } siteTime(); </script> <script src="https://s4.zstatic.net/npm/jquery@3.7.1/dist/jquery.min.js"></script> <script src="/assets/js/text-autospace.min.js"></script><link rel="stylesheet" href="/assets/css/autospace-ex-min.css"><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">å‘ç°æ–°ç‰ˆæœ¬çš„å†…å®¹ã€‚</p><button type="button" class="btn btn-primary" aria-label="Update"> æ›´æ–° </button></div></div><script src="https://s4.zstatic.net/npm/jquery@3.7.1/dist/jquery.min.js"></script> <script src="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/bootstrap/5.3.3/js/bootstrap.min.js"></script> <script src="https://s4.zstatic.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script src="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/lazysizes/5.3.2/lazysizes.min.js"></script> <script src="https://s4.zstatic.net/ajax/libs/magnific-popup.js/1.2.0/jquery.magnific-popup.min.js"></script> <script src="https://npm.elemecdn.com/clipboard@2.0.11/dist/clipboard.min.js"></script> <script src="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/dayjs/1.11.11/dayjs.min.js"></script> <script src="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/dayjs/1.11.11/locale/zh.min.js"></script> <script src="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/dayjs/1.11.11/plugin/relativeTime.js"></script> <script src="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/dayjs/1.11.11/plugin/localizedFormat.js"></script> <script src="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/tocbot/4.28.2/tocbot.min.js"></script> <script src="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/mermaid/10.9.1/mermaid.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script type="text/javascript"> (function () { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === 'undefined') { return; } let expectedTheme = mode === ModeToggle.DARK_MODE ? 'dark' : 'default'; let config = { theme: expectedTheme }; /* Re-render the SVG â€º <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $('.mermaid').each(function () { let svgCode = $(this).prev().children().html(); $(this).removeAttr('data-processed'); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, '.mermaid'); } } let initTheme = 'default'; const html = document.documentElement; if ( (html.hasAttribute('data-mode') && html.getAttribute('data-mode') === 'dark') || (!html.hasAttribute('data-mode') && window.matchMedia('(prefers-color-scheme: dark)').matches) ) { initTheme = 'dark'; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Create mermaid tag */ document.querySelectorAll('pre>code.language-mermaid').forEach((elem) => { const svgCode = elem.textContent; const backup = elem.parentElement; backup.classList.add('unloaded'); /* create mermaid node */ let mermaid = document.createElement('pre'); mermaid.classList.add('mermaid'); const text = document.createTextNode(svgCode); mermaid.appendChild(text); backup.after(mermaid); }); mermaid.initialize(mermaidConf); window.addEventListener('message', updateMermaid); })(); </script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script> window.onload = () => { if(window.load_event){ for(const key in window.load_event){ if(key != "load_anime"){ console.log(key); window.load_event[key](); } } }else{ console.log("æ²¡æœ‰loadäº‹ä»¶ï¼"); } }; </script>
